{"version":3,"sources":["helpers/misc.js","helpers/client.js","components/Questionnaire.js","components/Home.js","locales/texts/intro-landing-1/fr.md","locales/texts/intro-landing-2/fr.md","locales/texts/intro-landing-2/en.md","locales/texts/intro-step-1/fr.md","locales/texts/intro-step-1/en.md","locales/texts/intro-step-2/fr.md","locales/texts/intro-step-2/en.md","locales/texts/intro-step-3/fr.md","locales/texts/intro-step-3/en.md","locales/texts/intro-landing-3/fr.md","locales/texts/intro-landing-3/en.md","locales/texts/intro-landing-4/fr.md","locales/texts/intro-landing-4/en.md","components/LegalMentions.js","locales/texts/legal-mentions-1/fr.md","locales/texts/legal-mentions-1/en.md","locales/texts/legal-mentions-2/fr.md","locales/texts/legal-mentions-2/en.md","helpers/hooks.js","components/Nav.js","components/Title.js","components/Main.js","App.js","index.js"],"names":["getOrInitObject","key","defaults","initialData","localStorage","getItem","JSON","parse","e","API_URL","process","REACT_APP_API_URL","defaultData","id","genId","email","undefined","propositions","translate","lang","eventListener","questions","useState","data","setData","initialStage","initialIndex","length","stage","setStage","questionnaireIndex","setQuestionnaireIndex","reviewVisible","setReviewVisible","sendStatus","setSendStatus","shareVisible","setShareVisible","useEffect","setItem","stringify","filter","proposition","Object","keys","find","indexOf","cleanData","setTimeout","el","document","querySelector","focus","thatTop","offsetTop","window","scrollTo","top","behavior","handleEvent","type","payload","addSubscriber","currentText","currentProposition","currentPropositionType","questionsLabels","numberOfQuestions","emailIsValid","test","handleAddActivity","Array","from","reduce","res","index","createProposition","newData","handleStopActivity","handleDevelopActivity","handleNextStage","nextStage","handlePreviousStage","handleActiveTextChange","thatText","map","prop","handleSaveActiveText","target","value","handleEmailChange","thatEvent","handleGivenNameChange","givenName","handleFamilyNameChange","familyName","handleWorkshopContactChange","workshopContact","handleAreaOfExpertiseChange","areaOfExpertise","handleSubmit","preventDefault","finalData","axios","method","url","postAnswer","then","catch","console","error","handleToggleReviewVisible","toggleShareVisible","renderSubmitForm","className","onChange","placeholder","onClick","cx","disabled","checked","renderProofRead","reverse","propositionIndex","labels","p","i","question","questionIndex","inDarkMode","stageMarkerLevel","Helmet","style","width","label","trim","onSubmit","source","to","href","useScroll","lastScrollTop","setLastScrollTop","body","getBoundingClientRect","bodyOffset","setBodyOffset","scrollY","setScrollY","left","scrollX","setScrollX","scrollDirection","setScrollDirection","applyChanges","listener","addEventListener","removeEventListener","Nav","handleQuestionnaireClick","handleSwitchLang","location","useLocation","pathname","Title","children","locales","fr","en","EventListener","this","subscribers","fn","push","onEvent","forEach","subscriber","App","initialLang","localLang","browserLang","navigator","language","userLanguage","setLang","locale","exact","path","Home","Questionnaire","LegalMentions","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.28a6897a.chunk.js","sourcesContent":["import {v4 as genId} from 'uuid';\n/**\n * Gets data from local storage or return default value\n * @param {*} key \n * @param {*} defaults \n */\nexport const getOrInitObject = (key, defaults = {}) => {\n  let initialData = localStorage.getItem(key);\n  if (initialData && typeof initialData === 'string') {\n    try {\n      initialData = JSON.parse(initialData)\n    } catch(e) {\n      initialData = defaults;\n    }\n  } else if (initialData) {\n    return initialData;\n  } else {\n    initialData = defaults;\n  }\n  return initialData;\n}\n\nexport const createProposition = (type, questions) => {\n  const id = genId();\n  const numberOfQuestions = questions[type].length;\n  return {\n    type,\n    id,\n    ...Array.from(Array(numberOfQuestions).keys())\n    .reduce((res, index) => ({\n      ...res,\n      [`question${index + 1}`]: ''\n    }), {})\n  }\n};\n\n/**\n * Remove propositions for which all fields are empty\n * @param {obj} data \n */\nexport const cleanData = data => {\n  return {\n    ...data,\n    propositions: data.propositions.filter(proposition => {\n      const nonEmptyField = Object.keys(proposition)\n      .find((key) => {\n        if (key.indexOf('question') === 0) {\n          return proposition[key].length > 0\n        }\n        return false;\n      })\n      return nonEmptyField !== undefined\n    })\n  }\n}","import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || '//localhost:4000/';\n\nexport const postAnswer = data => {\n  return axios({\n    method: 'POST',\n    url: `${API_URL}answer`,\n    data: { data }\n  })\n}\n","import React, {useState, useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\nimport Textarea from 'react-textarea-autosize';\nimport {v4 as genId} from 'uuid';\nimport cx from 'classnames';\nimport {getOrInitObject, createProposition, cleanData} from '../helpers/misc';\nimport {postAnswer} from '../helpers/client';\n\nconst defaultData = {\n  id: genId(),\n  email: undefined,\n  propositions: []\n}\n\n// min text length for answers\n// @todo put in config ?\nconst TEXT_LIMIT = 150;\n\nexport default function({\n  translate,\n  lang,\n  eventListener\n}) {\n  // registering questionnaire questions\n  const questions =  {\n    'develop': [\n      translate('to-develop-question-1'),\n      translate('to-develop-question-2'),\n      translate('to-develop-question-3'),\n      translate('to-develop-question-4'),\n      translate('to-develop-question-5'),\n    ],\n    'stop': [\n      translate('to-stop-question-1'),\n      translate('to-stop-question-2'),\n      translate('to-stop-question-3'),\n      translate('to-stop-question-4'),\n    ]\n  }\n  /**\n   * ==============\n   * Initial values\n   * ==============\n   */\n  const initialData = getOrInitObject('mayday/questionnaireData', defaultData);\n  // questionnaire responses data\n  const [data, setData] = useState(initialData);\n  const initialStage = +getOrInitObject('mayday/questionnaireStage', 0);\n  // index of the proposition being edited\n  let initialIndex = +getOrInitObject('questionnaireIndex', 0);\n  // prevent exceptions or issues with data\n  if (!data || initialIndex > data.propositions.length  - 1) {\n    initialIndex = 0;\n  }\n  /**\n   * ==============\n   * State definitions\n   * ==============\n   */\n  // questionnaire stage\n  // stage = state machine for the questionnaire views\n  // \"stage\" values :\n  // 0 = spash screen\n  // 1-(n-1) = number of the active question\n  // null = final screen (send your proposals);\n  const [stage, setStage] = useState(initialStage);\n  // index of the proposition being edited\n  const [questionnaireIndex, setQuestionnaireIndex] = useState(initialIndex);\n  // \"review your answers\" open/close state\n  const [reviewVisible, setReviewVisible] = useState(false);\n  // xhr status\n  const [sendStatus, setSendStatus] = useState(undefined);\n\n  const [shareVisible, setShareVisible] = useState(false);\n  /**\n   * ==============\n   * Localstorage savings\n   * ==============\n   */\n  // save data in localstorage at each change\n  // @todo could be debounced\n  useEffect(() => {\n    localStorage.setItem('mayday/questionnaireData', JSON.stringify(data));\n  });\n  \n  // save stage to local storage\n  useEffect(() => {\n    localStorage.setItem('mayday/questionnaireStage', stage);\n    if(stage === 0) {\n      setData(cleanData(data))\n      setReviewVisible(false);\n    }\n    setReviewVisible(false);\n    // focusing on active textarea or input at each stage change\n    setTimeout(() => {\n      let el  = document.querySelector('textarea.active, input')\n      if (el) {\n        el.focus();\n      }\n      if (stage > 0) {\n        el = document.querySelector('.questionnaire-item.active');\n        if (el) {\n          const thatTop = el.offsetTop;\n          window.scrollTo({\n            top: thatTop,\n            behavior: 'smooth'\n          });\n        }\n      }\n      else {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth'\n        })\n      }\n    }, 600)\n  }, [stage]);\n  \n  // save currently edited proposition index\n  useEffect(() => {\n    localStorage.setItem('mayday/questionnaireIndex', questionnaireIndex);\n  }, [questionnaireIndex]);\n\n  useEffect(() => {\n    if (shareVisible) {\n      let el = document.querySelector('.share-container');\n      if(el) {\n        setTimeout(() => {\n          const top = el.offsetTop;\n          window.scrollTo({\n            top: top,\n            behavior: 'smooth'\n          });\n        }, 700)\n      }\n    }\n  }, [shareVisible]);\n\n\n  useEffect(() => {\n    if (reviewVisible) {\n      let el = document.querySelector('.propositions-container');\n      if(el) {\n        setTimeout(() => {\n          const top = el.offsetTop;\n          window.scrollTo({\n            top,\n            behavior: 'smooth'\n          });\n        }, 700)\n\n      }\n    }\n  }, [reviewVisible]);\n\n  // trick to enable reseting stage if questionnaire is clicked in nav\n  const handleEvent = function(type, payload) {\n    if (type === 'questionnaireClick') {\n      setStage(0);\n    }\n  }\n  useEffect(() => {\n    eventListener.addSubscriber(handleEvent)\n  }, [eventListener])\n\n  /**\n   * ==========================\n   * Temp variables\n   * ==========================\n   */\n  // capture current proposition data\n  const currentProposition = stage > 0 && questionnaireIndex < data.propositions.length && data.propositions[questionnaireIndex];\n  const currentPropositionType = currentProposition && currentProposition.type === 'develop' ? 'develop': 'stop';\n  \n  const questionsLabels = questions[currentPropositionType];\n  const numberOfQuestions = questionsLabels.length;\n\n  let currentText;\n  if (stage > 0 && stage !== -1) {\n    currentText = data.propositions[questionnaireIndex] ? data.propositions[questionnaireIndex][`question${stage}`] : '';\n  }\n  const emailIsValid = data.email && /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email);\n\n  /**\n   * =========\n   * Callbacks\n   * =========\n   */\n  // add a new activity\n  const handleAddActivity = type => {\n    const proposition = createProposition(type, questions)\n    const newData = {\n      ...data,\n      propositions: [\n        ...data.propositions,\n        proposition\n      ]\n    }\n    setQuestionnaireIndex(data.propositions.length)\n    setData(newData);\n    setStage(1);\n  }\n  const handleStopActivity = () => handleAddActivity('stop', questions);\n  const handleDevelopActivity = () => handleAddActivity('develop', questions);\n\n  // go to next question\n  const handleNextStage = () => {\n    let nextStage = stage + 1;\n    if (nextStage > numberOfQuestions) {\n      nextStage = -1;\n    }\n    setStage(nextStage);\n  }\n  // go to previous question\n  const handlePreviousStage = () => {\n    const previousStage = stage - 1;\n    setStage(previousStage);\n  }\n  // save current question text\n  const handleSaveActiveText = (thatText) => {\n    const newData = {\n      ...data,\n      propositions: data.propositions.map((prop, index) => {\n        if (index === questionnaireIndex) {\n          return {\n            ...prop,\n            [`question${stage}`]: thatText\n          }\n        }\n        return prop;\n      })\n    }\n    setData(newData)\n  }\n  // register active textarea change\n  const handleActiveTextChange = (e) => {\n    handleSaveActiveText(e.target.value);\n  }\n  // register email input change\n  const handleEmailChange = (thatEvent) => {\n    setData({\n      ...data,\n      email: thatEvent.target.value,\n    })\n  }\n  // register given name input change\n  const handleGivenNameChange = (thatEvent) => {\n    setData({\n      ...data,\n      givenName: thatEvent.target.value,\n    })\n  }\n  // register family name input change\n  const handleFamilyNameChange = (thatEvent) => {\n    setData({\n      ...data,\n      familyName: thatEvent.target.value,\n    })\n  }\n  const handleWorkshopContactChange = (thatEvent) => {\n    setData({\n      ...data,\n      workshopContact: data.workshopContact !== undefined ? !data.workshopContact : true,\n    })\n  }\n  // register family name input change\n  const handleAreaOfExpertiseChange = (thatEvent) => {\n    setData({\n      ...data,\n      areaOfExpertise: thatEvent.target.value,\n    })\n  }\n  // send questionnaire to API\n  const handleSubmit = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    const finalData = {\n      ...data, \n      lang\n    }\n    setSendStatus('sending');\n    // this is a mock for the actual request\n    postAnswer(finalData)\n    .then(() => {\n      setSendStatus('success');\n      setTimeout(() => {\n        setSendStatus(undefined)\n      }, 4000)\n    })\n    .catch(e => {\n      console.error(e);\n      setSendStatus('error');\n      setTimeout(() => {\n        setSendStatus(undefined)\n      }, 4000)\n    })\n  }\n\n\n  // set \"review my propositions\" visibility\n  const handleToggleReviewVisible = () => {\n    setReviewVisible(!reviewVisible);\n    if (stage === -1) {\n      setShareVisible(false)\n    }\n  }\n  const toggleShareVisible = () => {\n    setShareVisible(!shareVisible);\n  }\n\n  const renderSubmitForm = () => (\n    <div className=\"submit-form\">\n      <div className=\"column\">\n        <h3>{translate('submit-form-explanation')}</h3>\n        <p>{translate('submit-form-anonymously-explanation')}</p>\n        <p>{translate('submit-form-with-contact-explanation')}</p>\n      </div>\n      <div className=\"column\">\n        <div className=\"input-container\">\n          <input type=\"input\" onChange={handleGivenNameChange} value={data.givenName || ''} placeholder={translate('given-name-prompt')} />\n        </div>\n        <div className=\"input-container\">\n          <input type=\"input\" onChange={handleFamilyNameChange} value={data.familyName || ''} placeholder={translate('family-name-prompt')} />\n        </div>\n        <div className=\"input-container\">\n          <input type=\"input\" onChange={handleAreaOfExpertiseChange} value={data.areaOfExpertise || ''} placeholder={translate('area-of-expertise-prompt')} />\n        </div>\n        <div className=\"input-container\">\n          <input type=\"email\" onChange={handleEmailChange} value={data.email || ''} placeholder={translate('email-prompt')} />\n          {\n            !emailIsValid && data.email &&\n            <p className=\"valid-email-prompt\">\n              {translate('please-enter-valid-email')}\n            </p>\n          }\n        </div>\n        <div onClick={handleWorkshopContactChange} className={cx(\"radio-container\", {disabled: !emailIsValid})}>\n          <span>\n            <input onChange={handleWorkshopContactChange} checked={data.workshopContact || false} type=\"radio\"/>\n            <span className=\"checkmark\"></span>\n          </span>\n          <label>\n            {translate('workshop-contact-prompt')}\n          </label>\n        </div>\n        <div className=\"submit-container\">\n         <button disabled={data.email && data.email.length ? !emailIsValid : false} className=\"themed-yellow\" onClick={handleSubmit} type=\"submit\">\n            {translate('submit-form')}\n            <span className=\"chevron\">\n              <span />\n              <span />\n              <span />\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n  const renderProofRead = () => (\n    <div className=\"propositions-container\">\n\n      {\n        data.propositions\n        .reverse()\n        .map((proposition, propositionIndex) => {\n          const {type} = proposition;\n          const labels = type === 'develop' ? [\n            translate('to-develop-question-1'),\n            translate('to-develop-question-2'),\n            translate('to-develop-question-3'),\n            translate('to-develop-question-4'),\n            translate('to-develop-question-5'),\n          ] : \n          [\n            translate('to-stop-question-1'),\n            translate('to-stop-question-2'),\n            translate('to-stop-question-3'),\n            translate('to-stop-question-4'),\n          ];\n\n          // const handleEditProposition = () => {\n          //   setQuestionnaireIndex(propositionIndex);\n          //   setStage(1)\n          // }\n\n          const handleDeleteProposition = () => {\n            const newData = {\n              ...data,\n              propositions: data.propositions.filter((p, i) => i !== propositionIndex)\n            }\n            setData(newData)\n            if (newData.propositions.length === 0) {\n              setReviewVisible(false);\n            }\n          }\n          \n          return (\n            <div key={propositionIndex} className=\"proposition\">\n              \n              <h3>\n                <span className=\"proposition-title\">\n                  {translate('Proposition')} {data.propositions.length - propositionIndex} ({translate(proposition.type === 'stop' ? 'add-activity-to-stop': 'add-activity-to-develop' )})\n                </span>\n                <span className=\"small-buttons-container\">\n                  \n                  <button className=\"themed-yellow\" onClick={handleDeleteProposition}>\n                    {translate('delete')}\n                  </button>\n                </span>\n              </h3>\n              \n              {\n                labels.map((question, questionIndex) => {\n                  const handleEdit = () => {\n                    setQuestionnaireIndex(propositionIndex);\n                    setStage(questionIndex + 1)\n                  }\n                  return (\n                    <div onClick={handleEdit} className=\"question\" key={questionIndex}>\n                      <div>\n                      <h5 className=\"step-indicator\">\n                        <b>{questionIndex + 1}/</b>{labels.length}\n                      </h5>\n                      <h4>{question}</h4>\n                      </div>\n                      <div>\n                      <blockquote>\n                        {proposition[`question${questionIndex + 1}`]}\n                      </blockquote>\n                      </div>\n                    </div>\n                  )\n                })\n              }\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n  const inDarkMode = stage === -1 || shareVisible;\n  const stageMarkerLevel = stage > 0 ? stage / (numberOfQuestions + 1) : stage === -1 ? 1 : 0;\n  return (\n    <div  className=\"questionnaire-container\">\n      <Helmet>\n        <title>{translate('website-title')} | {translate('questionnaire')}</title>\n        <style>{`\n        body { ${inDarkMode ? 'color: white;': ''} background-color: ${inDarkMode ? '#3E5368' :  '#B8C3CE'}; }\n        nav { background-color: ${inDarkMode ? '#3E5368' :  '#B8C3CE'}; }\n        textarea { color: ${inDarkMode ? 'white' :  'inherit'}; }\n        button{ \n          color: ${inDarkMode ? 'white' :  'inherit'};\n          border-color: ${inDarkMode ? 'white' :  'var(--color-text)'};\n        }\n        .big-select li:hover .chevron span{\n          border-bottom: 2px solid ${inDarkMode ? 'var(--color-tertiary-background)' :  'var(--color-secondary-background)'};\n        }\n        `}</style>\n      </Helmet>\n      <div className=\"stage-marker-container\">\n        <div \n          className=\"stage-marker\"\n          style={{\n            width: stageMarkerLevel * 100 + '%'\n          }}\n        />\n      </div>\n      <div>\n        {\n          stage === 0 ?\n          <div>\n            <div className=\"questionnaire-intro\">\n              {translate('questionnaire-intro')}\n            </div>\n            <ul className={`big-select`}>\n              <li onClick={handleStopActivity}>\n                <h3>\n                  {translate('add-activity-to-stop')}\n                </h3>\n                <button className=\"themed-yellow stop\">\n                  <span className=\"chevron\">\n                    <span />\n                    <span />\n                    <span />\n                  </span>\n                </button></li>\n              <li onClick={handleDevelopActivity}>\n                <h3>\n                  {translate('add-activity-to-develop')}\n                </h3>\n                <button className=\"themed-yellow develop\">\n                  <span className=\"chevron\">\n                    <span />\n                    <span />\n                    <span />\n                  </span>\n                </button>\n              </li>\n            </ul>\n\n            <ul className=\"questionnaire-footer\">\n            {data.propositions.length ?\n               <li>\n                 <button className={cx(\"themed-yellow\", {'active': shareVisible})} onClick={toggleShareVisible} >\n                 {translate('go-to-submit')}\n                 <span className=\"chevron\">\n                   <span/>\n                   <span/>\n                   <span/>\n                 </span>\n                 </button>\n                </li>\n              : null}\n              {\n                data.propositions.length ?\n              <li><button className={cx('review-button', {'active': reviewVisible})} onClick={handleToggleReviewVisible}>{translate('review-your-propositions')} {!reviewVisible && `(${data.propositions.length})`}</button></li>\n                : null\n              }\n              \n            </ul>\n            <div className={`share-container ${shareVisible ? 'visible' : 'hidden'}`}>\n              {renderSubmitForm(false)}\n            </div>\n            { reviewVisible &&\n              renderProofRead()\n            }\n            \n          </div>\n          : null\n        }\n        {\n          stage > 0 ?\n          <ul className=\"question-container\">\n              {\n                questionsLabels.map((label, index) => {\n                  if (index === stage - 1) {\n                    return (\n                    <li key={label} className=\"questionnaire-item active\">\n                      <div>\n                        <h3 className=\"step-indicator\">\n                          <b>{index + 1}/</b>{questionsLabels.length}\n                        </h3>\n                        <h2>{label}</h2>\n                      </div>\n                      <div>\n                        <Textarea className=\"active\" value={currentText} onChange={handleActiveTextChange} placeholder={translate('write-here')} />\n                          {stage !== 1 && currentText.length < TEXT_LIMIT &&\n                          <div className=\"text-length-indicator\">\n                              <i>{translate('char-limit-indicator')}</i>\n                          </div>\n                          }\n                          <ul className=\"buttons-row reverse\">\n                          \n                          {\n                            stage < numberOfQuestions ?\n                            <li><button className={`themed-yellow ${stage === 1 || currentText.length > TEXT_LIMIT ? 'active': ''} ${currentPropositionType}`} disabled={stage !== 1 && currentText.length < TEXT_LIMIT} onClick={handleNextStage}>\n                                {translate('next-question')}\n                                <span className=\"chevron\">\n                                  <span />\n                                  <span />\n                                  <span />\n                                </span>\n                              </button>\n                            </li>\n                            : <li><button className={`themed-yellow ${stage === 1 || currentText.length > TEXT_LIMIT ? 'active': ''} ${currentPropositionType}`} disabled={stage !== 1 && currentText.length < TEXT_LIMIT} onClick={handleNextStage}>\n                              {translate('validate-proposition')}\n                              <span className=\"chevron\">\n                                  <span />\n                                  <span />\n                                  <span />\n                                </span>\n                            </button></li>\n                          }\n                          {\n                            stage > 1 ?\n                            <li><button className={currentPropositionType} onClick={handlePreviousStage}>\n                              <span className=\"chevron reversed\">\n                                  <span />\n                                  <span />\n                                  <span />\n                                </span>\n                              {translate('previous-question')}\n                            </button></li>\n                            : null\n                          }\n                        </ul>\n\n                      </div>\n                    \n                      \n                      \n                    </li>);\n                  }\n                  const thatText = currentProposition[`question${index + 1}`];\n                  if (thatText.trim().length) {\n                    const handleClick = () => {\n                      setStage(index + 1)\n                    }\n                    return (\n                      <li className=\"questionnaire-item\" onClick={handleClick} key={label}>\n                        <div>\n                          <h3 className=\"step-indicator\">\n                            <b>{index + 1}/</b>{questionsLabels.length}\n                          </h3>\n                          <h2>{label}</h2>\n                        </div>\n                        <div>\n                          <Textarea value={thatText} />\n                        </div>\n                      </li>\n                    )\n                  }\n                  return null;\n                })\n              }\n            \n          </ul>\n          : null\n        }\n        {\n          stage === -1 ?\n          <div>\n            \n                <h2 className=\"end-title\">{translate('thank-you')}</h2>\n                <div className=\"end-columns\">\n                  <div>\n                    <p>{translate('new-proposition-prompt')}</p>\n                    <ul className={`big-select minified`}>\n                      <li onClick={handleStopActivity}>\n                        <h3>\n                          {translate('add-activity-to-stop-bis')}\n                        </h3>\n                        <button className=\"themed-yellow stop\">\n                          <span className=\"chevron\">\n                            <span />\n                            <span />\n                            <span />\n                          </span>\n                        </button>\n                        </li>\n                      <li onClick={handleDevelopActivity}>\n                        <h3>\n                          {translate('add-activity-to-develop-bis')}\n                        </h3>\n                        <button className=\"themed-yellow develop\">\n                          <span className=\"chevron\">\n                            <span />\n                            <span />\n                            <span />\n                          </span>\n                        </button>\n                      </li>\n                     \n                    </ul>\n                  </div>\n\n                  <div>\n                    <ul>\n                      <li>\n                          <button className={cx(\"themed-yellow submit-prompt-button\", {'active': shareVisible})} onClick={toggleShareVisible} type=\"submit\">\n                            {translate('go-to-submit')}\n                            <span className=\"chevron\">\n                              <span />\n                              <span />\n                              <span />\n                            </span>\n                          </button>\n                      </li>\n                      <li>\n                        <button onClick={handleToggleReviewVisible} className={'review-button'}>\n                          {translate('review-your-propositions')} ({data.propositions.length})\n                        </button>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n                \n                \n                \n                <div className={`share-container ${shareVisible ? 'visible' : 'hidden'}`}>\n                  {renderSubmitForm()}\n                </div>\n                {reviewVisible && renderProofRead()}\n             \n          </div> : null\n        }\n        {\n          stage === null ?\n          <form className={`question-container normalized`} onSubmit={handleSubmit}>\n            {\n              reviewVisible ? null :\n              <div>\n                {renderSubmitForm()}\n              </div>\n            }\n          </form>\n          : null\n        }\n        {\n          sendStatus ?\n          <div className=\"status-container\">\n            <div className=\"status-content\">\n              <i>{translate(sendStatus)}</i>\n            </div>\n          </div>\n          : null\n        }\n      </div>\n    </div>\n  )\n}","import React, {useEffect} from 'react';\nimport Md from 'react-markdown';\nimport {Link} from 'react-router-dom';\nimport {Helmet} from 'react-helmet';\n\nimport introLanding1Fr from '!!raw-loader!../locales/texts/intro-landing-1/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introLanding1En from '!!raw-loader!../locales/texts/intro-landing-1/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introLanding2Fr from '!!raw-loader!../locales/texts/intro-landing-2/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introLanding2En from '!!raw-loader!../locales/texts/intro-landing-2/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introLanding3Fr from '!!raw-loader!../locales/texts/intro-landing-3/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introLanding3En from '!!raw-loader!../locales/texts/intro-landing-3/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introLanding4Fr from '!!raw-loader!../locales/texts/intro-landing-4/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introLanding4En from '!!raw-loader!../locales/texts/intro-landing-4/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introStep1Fr from '!!raw-loader!../locales/texts/intro-step-1/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introStep1En from '!!raw-loader!../locales/texts/intro-step-1/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\n\nimport introStep2Fr from '!!raw-loader!../locales/texts/intro-step-2/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introStep2En from '!!raw-loader!../locales/texts/intro-step-2/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introStep3Fr from '!!raw-loader!../locales/texts/intro-step-3/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introStep3En from '!!raw-loader!../locales/texts/intro-step-3/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\n\nexport default function({\n  translate,\n  lang\n}) {\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    })\n  })\n  return (\n    <>\n      <Helmet>\n        <title>{translate('website-title')}</title>\n      </Helmet>\n      <header>\n        <div className=\"metadata\">\n          <p>\n            <b>{translate('preparatory-exercises')}</b>\n          </p>\n          <p>\n            {translate('proposition-from-collective')}\n            <br/>\n            <b>{translate('collective-name')}</b>\n          </p>\n          <p>\n            {translate('launching-the')}\n            <br/>\n            <b>{translate('launching-date')}</b>\n          </p>\n        </div>\n      </header>\n\n      {/* part 1 */}\n      <div className=\"columns\">\n        <div>\n          <Md source={lang === 'fr' ? introLanding1Fr : introLanding1En} />\n        </div>\n        <div>\n          <Md source={lang === 'fr' ? introLanding2Fr : introLanding2En} />\n        </div>\n      </div>\n\n      {/* part 2 */}\n      <ul className=\"steps\">\n        <li>\n          <h2>\n            <span>1</span>\n          </h2>\n          \n          <Md source={lang === 'fr' ? introStep1Fr : introStep1En} />\n          <p>\n            <Link className=\"button starter-button\" to=\"questionnaire\">\n              <span>{translate('questionnaire-prompt')}</span>\n              <span className=\"chevron\">\n                <span />\n                <span />\n                <span />\n              </span>\n            </Link>\n          </p>\n        </li>\n        <li>\n          <h2>2</h2>\n          <Md source={lang === 'fr' ? introStep2Fr : introStep2En} />\n        </li>\n        <li>\n          <h2>3</h2>\n          <Md source={lang === 'fr' ? introStep3Fr : introStep3En} />\n        </li>\n      </ul>\n      {/* part 3 */}\n      <div className=\"columns\">\n        <div>\n          <Md source={lang === 'fr' ? introLanding3Fr : introLanding3En} />\n        </div>\n        <div>\n        \n          <Md source={lang === 'fr' ? introLanding4Fr : introLanding4En} />\n        </div>\n      </div>\n\n      <footer>\n        <div className=\"columns\">\n          <div>\n            <p>\n              {translate('for-information-contact')}\n            </p>\n            <p>\n              Project email\n            </p>\n            <p>\n              Project contact\n            </p>\n          </div>\n          <div>\n            <p>\n              <a target=\"blank\" href=\"https://github.com/medialab/ouatterrir\">{translate('website-source-code')}</a>\n            </p>\n            <p>\n              <a target=\"blank\" href=\"https://www.bruno-latour.fr\">{translate('latour-website')}</a>\n            </p>\n          </div>\n        </div>\n      </footer>\n    </>\n  )\n}","export default \"La tendance lourde est évidemment le retour à la situation d’avant la pandémie, à la fois satisfaisante (on retrouve la vie normale) et catastrophique (l’urgence climatique ne fait que croître). \\n\\nLe seul moyen de tirer parti de la situation actuelle, c’est de tirer la leçon politique de ce virus capable à la fois d’imposer sa loi partout dans le monde, tout en se déplaçant d’individu à individu en profitant simplement de son formidable pouvoir de contamination. Ce pouvoir, pouvons-nous le tourner à notre profit ? \";","export default \"Profitons de la suspension forcée de nos activités pour dresser l'inventaire de celles que nous aimerions voir reprendre à l'identique (comme avant), mieux, ou qu'elles ne reprennent pas du tout. Le but est de faire la liste des activités dont vous vous sentez privées par la crise actuelle et qui vous donne la sensation d’une atteinte à vos conditions essentielles de subsistance. \\n\\nCet exercice sera d’autant plus utile qu’il portera sur une expérience personnelle directement vécue. On ne cherchera donc pas à nommer des entités abstraites sur lequel on n'a peu de prise (le capitalisme, le système, le pétrole en général etc...) mais de partir de cas extrêmement précis rencontrés dans le quotidien.\\n\\nAttention : ceci n’est pas un questionnaire, il ne s’agit pas d’un sondage. C’est une aide à l'auto-description, c'est -à-dire un exercice qui cherche à décrire vos moyens de subsistance et ce à quoi vous êtes attachés.\";","export default \"Let’s take advantage of the enforced suspension of most activities to set out the inventory of those among them we would like to see not come back and those, on the other hand, that we would like to see developed.\\n \\nIt will be all the more useful if the inventory relates to actually lived personal experience. The point is therefore not trying to name abstract entities over which we have little control (capitalism, the \\\"system\\\", oil in general, etc...) but to start from extremely precise cases encountered in your daily life.\\n \\nWarning: this is neither a questionnaire nor a poll. It is an aid to \\\"self-description\\\", being an exercise that starts with your concerns and attachments, and goes on to describe your means of subsistence.\";","export default \"Le premier niveau consiste, tout simplement, à utiliser les moyens numériques, pour répondre chacun pour soi à un certain nombre de questions sur le monde d’après. L’avantage de ce dispositif, c’est qu’il est facile à mettre en œuvre et qu’il existe beaucoup d’initiatives en ce sens. L’inconvénient est que les moyens numériques, trop peu exigeants en temps et en réflexion, encouragent la simple expression spontanée d’une opinion. On risque donc d’accumuler des vœux pieux, sans mesurer les difficultés, sans pousser vers une enquête, sans rencontrer les opposants à toute mesure qui nous paraît évidente et qui serait pourtant contre-productive ou irréalisable. \";","export default \"TODO Le premier niveau consiste, tout simplement, à utiliser les moyens numériques, pour répondre chacun pour soi à un certain nombre de questions sur le monde d’après. L’avantage de ce dispositif, c’est qu’il est facile à mettre en œuvre et qu’il existe beaucoup d’initiatives en ce sens. L’inconvénient est que les moyens numériques, trop peu exigeants en temps et en réflexion, encouragent la simple expression spontanée d’une opinion. On risque donc d’accumuler des vœux pieux, sans mesurer les difficultés, sans pousser vers une enquête, sans rencontrer les opposants à toute mesure qui nous paraît évidente et qui serait pourtant contre-productive ou irréalisable. \";","export default \"C’est pourquoi nous proposons un deuxième niveau qui utilise les moyens numériques mais dirige l’attention vers de petits groupes de contact qui choisissent avec l’aide de modérateurs de prolonger la description, forcément trop rapide, du premier niveau vers une description plus approfondie et surtout plus ancrée dans les aptitudes de chacun, concrètement, à interrompre telle ou telle action ou à favoriser telle ou telle initiative.\\n \\nChaque invention de « gestes barrières » s’accompagne désormais d’un groupe d’appartenance qui a enquêté en commun sur comment résister et « aplatir la courbe » au moment du retour à la « normale ». Ici, les outils web ne servent pas à exprimer une opinion, mais à constituer un groupe de contact capable de décrire une situation et repérer les alliés et les adversaires utiles au moment du déconfinement. \\n\\nLes modérateurs sont au début ceux qui ont acquis une expérience de description dans le troisième niveau.\\n\\nLe logiciel élaboré par le médialab de Sciences Po et le ZKM de Karlsruhe n’a pas d’autre but que de faciliter la constitution de ces groupes de modération pour ceux qui souhaitent passer du niveau un, forcément un peu frustrant, au niveau deux. Il ne s’agit en aucun cas de compiler les résultats pour favoriser des études statistiques. Au contraire, il s’agit de tourner les outils numériques vers la localisation et la spécificité des situations et des groupes intéressés. \\n\";","export default \"TODO C’est pourquoi nous proposons un deuxième niveau qui utilise les moyens numériques mais dirige l’attention vers de petits groupes de contact qui choisissent avec l’aide de modérateurs de prolonger la description, forcément trop rapide, du premier niveau vers une description plus approfondie et surtout plus ancrée dans les aptitudes de chacun, concrètement, à interrompre telle ou telle action ou à favoriser telle ou telle initiative. \\nChaque invention de « gestes barrières » s’accompagne désormais d’un groupe d’appartenance qui a enquêté en commun sur comment résister et « aplatir la courbe » au moment du retour à la « normale ». Ici, les outils web ne servent pas à exprimer une opinion, mais à constituer un groupe de contact capable de décrire une situation et repérer les alliés et les adversaires utiles au moment du déconfinement. \\nLes modérateurs sont au début ceux qui ont acquis une expérience de description dans le troisième niveau.\\nLe logiciel élaboré par le médialab de Sciences Po et le ZKM de Karlsruhe n’a pas d’autre but que de faciliter la constitution de ces groupes de modération pour ceux qui souhaitent passer du niveau un, forcément un peu frustrant, au niveau deux. Il ne s’agit en aucun cas de compiler les résultats pour favoriser des études statistiques. Au contraire, il s’agit de tourner les outils numériques vers la localisation et la spécificité des situations et des groupes intéressés. \\n\";","export default \"Nous travaillons depuis trois ans dans le cadre d’un collectif « Où atterrir ? » à un troisième niveau, qui exige le face à face et la rencontre longue et méticuleuse, en petits groupes, pour réapprendre à décrire son territoire de façon concrète et controversée. Nous avons appris par expérience que les exercices préparatoires demandent beaucoup de temps, un réapprentissage de la vie collective et une culture artistique qui permettent de s’exprimer à nouveaux frais. Les techniques numériques pour le moment ne sont pas capables de remplacer cette expérience unique qui a pour but d’aboutir à ce que nous appelons des « nouveaux cahiers de doléance ».\";","export default \"TODO Nous travaillons depuis trois ans dans le cadre d’un collectif « Où atterrir ? » à un troisième niveau, qui exige le face à face et la rencontre longue et méticuleuse, en petits groupes, pour réapprendre à décrire son territoire de façon concrète et controversée. Nous avons appris par expérience que les exercices préparatoires demandent beaucoup de temps, un réapprentissage de la vie collective et une culture artistique qui permettent de s’exprimer à nouveaux frais. Les techniques numériques pour le moment ne sont pas capables de remplacer cette expérience unique qui a pour but d’aboutir à ce que nous appelons des « nouveaux cahiers de doléance ».\";","export default \"Quel que soit le niveau auquel vous souhaitiez participer, une fois commencés le déconfinement et le retour à la « normale », le but est de pouvoir très rapidement, par un logiciel ad hoc en cours d’écriture, retrouver les groupes de contact qui ont décidé de tel ou tel \\n« geste barrière ». Soit qu’il s’agisse de groupes liés à un territoire précis, soit que ces groupes soient définis par une question, une activité, une entreprise, un comportement qu’ils ont choisi de modifier par leur action « virale ». \";","export default \"TODO Quel que soit le niveau auquel vous souhaitiez participer, une fois commencés le déconfinement et le retour à la « normale », le but est de pouvoir très rapidement, par un logiciel ad hoc en cours d’écriture, retrouver les groupes de contact qui ont décidé de tel ou tel \\n« geste barrière ». Soit qu’il s’agisse de groupes liés à un territoire précis, soit que ces groupes soient définis par une question, une activité, une entreprise, un comportement qu’ils ont choisi de modifier par leur action « virale ». \";","export default \"Étant donné l’intérêt suscité par le questionnaire qui a lancé cette initiative, nous devrions être capable très rapidement de repérer partout des groupes de contact correspondant à la diversité des situations et des questions que nous ne voulons en aucun cas voir revenir à la « normale ». \\nCes exercices de préparation sont le seul moyen pratique et simple que nous ayons imaginé pour profiter du confinement et articuler la crise sanitaire actuelle avec la mutation écologique qui vient.  \\n\\nCes exercices de préparation sont le seul moyen pratique et simple que nous ayons imaginé pour profiter du confinement et articuler la crise sanitaire actuelle avec la mutation écologique qui vient.  \\n\";","export default \"TODO Étant donné l’intérêt suscité par le questionnaire qui a lancé cette initiative, nous devrions être capable très rapidement de repérer partout des groupes de contact correspondant à la diversité des situations et des questions que nous ne voulons en aucun cas voir revenir à la « normale ». \\nCes exercices de préparation sont le seul moyen pratique et simple que nous ayons imaginé pour profiter du confinement et articuler la crise sanitaire actuelle avec la mutation écologique qui vient.  \\n\\nCes exercices de préparation sont le seul moyen pratique et simple que nous ayons imaginé pour profiter du confinement et articuler la crise sanitaire actuelle avec la mutation écologique qui vient.  \\n\";","import React from 'react';\nimport {Helmet} from 'react-helmet';\nimport Md from 'react-markdown';\n\nimport mentionsFr1 from '!!raw-loader!../locales/texts/legal-mentions-1/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport mentionsEn1 from '!!raw-loader!../locales/texts/legal-mentions-1/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport mentionsFr2 from '!!raw-loader!../locales/texts/legal-mentions-2/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport mentionsEn2 from '!!raw-loader!../locales/texts/legal-mentions-2/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nexport default function({\n  translate,\n  lang\n}) {\n  return (\n    <div className=\"mentions-container\">\n      <Helmet>\n        <title>{translate('website-title')} | {translate('legal-mentions')}</title>\n      </Helmet>\n      <div>\n        <Md source={lang === 'fr' ? mentionsFr1 : mentionsEn1} />\n      </div>\n      <div>\n        <Md source={lang === 'fr' ? mentionsFr2 : mentionsEn2} />\n      </div>\n    </div>\n  )\n}","export default \"### Le contenu de ce site internet est fourni par :\\n\\nSciences Po  \\n27 rue Saint-Guillaume  \\n75337 Paris Cedex 07\\n\\nTéléphone: (+33) 01 45 49 50 50\\nFax: (+33) 01 42 22 31 26\\nEmail: webmestre@sciencespo.fr\\n\\n### Directeur de la publication\\n\\nFrédéric Mion, administrateur de la Fondation nationale des sciences politiques et directeur de l’Institut d’études politiques de Paris.\\n\\n### Hébergement\\n\\nCe site internet est hébergé par la Fondation Nationale des Sciences Politiques (FNSP):  \\n\\nSciences Po - Direction des Systèmes d'Information  \\nCode APE : 803Z  \\n27, rue saint Guillaume  \\n75337 Paris cedex 07\";","export default \"### The contents of this site are provided by:\\n\\nSciences Po  \\n27 rue Saint-Guillaume  \\n75337 Paris Cedex 07\\n\\nPhone: (+33) 01 45 49 50 50\\nFax: (+33) 01 42 22 31 26  \\nEmail: webmestre@sciencespo.fr\\n\\n### Publisher\\n\\nFrédéric Mion, President of Sciences Po\\n\\n### Hosting\\n\\nThis website is hosted by the Fondation Nationale des Sciences Politiques (FNSP):  \\n\\nSciences Po - Direction des Systèmes d'Information  \\nCode APE : 803Z  \\n27, rue saint Guillaume  \\n75337 Paris cedex 07\";","export default \"### Propriété Industrielle et Intellectuelle\\n\\nToutes les informations reproduites dans ce site web (textes, photos, logos...) sont protégées par des droits de propriété intellectuelle détenus par Sciences Po ou par ses partenaires. Par conséquent, aucune de ces informations ne peut être reproduite, modifiée, rediffusée, traduite, exploitée commercialement ou réutilisée de quelque manière que ce soit sans l'accord préalable et écrit de Sciences Po. Le titre, la conception, la forme du site Sciences Po mais aussi son contenu tels que les actualités, descriptions, illustrations et images originales et leur organisation, ainsi que toute compilation de logiciels, code source fondamental et autres éléments contenus sur le site Sciences Po sont la propriété de Sciences Po.\\n\\n### Les liens hypertextes\\n\\nNos pages web proposent également des liens vers d'autres sites pour lesquels nous ne sommes responsables ni de leur intégral respect aux normes d'ordre public et bonnes mœurs, d'une part, ni de leur politique de protection des données personnelles ou d'utilisation qui en seraient faites, d'autre part. En accédant à un autre site, par l'intermédiaire d'un lien hypertexte, vous acceptez que cet accès s'effectue à vos risques et périls. En conséquence, tout préjudice direct ou indirect résultant de votre accès à un autre site relié par un lien hypertexte ne peut engager la responsabilité de Sciences Po.\\n\\n### Images\\n\\nLes images du site sont libres de droit, sauf mentions contraires.\\n\\n### Informatique et Libertés\\n\\nCe site ne collecte aucune information personnelle, à l'exception des formulaires d'inscription à différents évènements et notamment au séminaire du médialab. Vous pouvez exercer votre droit d'accès, de modification, de rectification ou de suppression des données personnelles vous concernant en nous écrivant :  \\n\\npar courrier : **médialab, 27 rue Saint Guillaume 75337 Paris Cedex 07**  \\npar courrier électronique : **medialab@sciencespo.fr**\";","export default \"### Industrial and Intellectual Property\\n\\nAll information on this web site (text, photos, logos...) is protected by the copyrights held by Sciences Po or their partners. Therefore, the information may not be reproduced, modified, republished, re-aired, translated, distributed or reused in any manner, without the written consent of Sciences Po . The Sciences Po site’s title, concept and form, as well as its content, such as news, descriptions, illustrations and original images and their organisation, and any software compilation, source code and other elements contained on the Sciences Po site are the property of Sciences Po.\\n\\n### Hypertext links\\n\\nOur pages also contain links to other sites for which we are in no manner responsible, neither regarding their adhesion to public order or good conduct, on the one hand, nor regarding their personal data privacy policies and use, on the other. By accessing an outside site, through a hypertext link, you accept that this access is carried out at your own risk. Therefore, Sciences Po will in no way be held responsible for any direct or indirect damages resulting from your access to an outside site through a hypertext link.\\n\\n### Personal information\\n\\nThis website does not collect any personal information, except the registration forms for different events including the médialab's seminar. To learn about, get access to or ask for access, modification, rectification or deletion of personal information we might have collected please contact:  \\n\\nby mail: **médialab, 27 rue Saint Guillaume 75337 Paris Cedex 07, France**  \\nby e-mail: **medialab@sciencespo.fr**\";","/**\n * useScroll React custom hook\n * Usage:\n *    const { scrollX, scrollY, scrollDirection } = useScroll();\n */\n\nimport { useState, useEffect } from \"react\";\n\nexport function useScroll() {\n  const [lastScrollTop, setLastScrollTop] = useState(0);\n  const [bodyOffset, setBodyOffset] = useState(\n    document.body.getBoundingClientRect()\n  );\n  const [scrollY, setScrollY] = useState(bodyOffset.top);\n  const [scrollX, setScrollX] = useState(bodyOffset.left);\n  const [scrollDirection, setScrollDirection] = useState();\n\n  const applyChanges = () => {\n    setBodyOffset(document.body.getBoundingClientRect());\n    setScrollY(-bodyOffset.top);\n    setScrollX(bodyOffset.left);\n    setScrollDirection(lastScrollTop > -bodyOffset.top ? \"down\" : \"up\");\n    setLastScrollTop(-bodyOffset.top);\n  }\n\n  const listener = e => {\n    // applyChanges();\n    setTimeout(applyChanges, 100);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", listener);\n    return () => {\n      window.removeEventListener(\"scroll\", listener);\n    };\n  });\n\n  return {\n    scrollY,\n    scrollX,\n    scrollDirection\n  };\n}","import React from 'react';\nimport {\n  NavLink as Link,\n  useLocation\n} from 'react-router-dom';\nimport {useScroll} from '../helpers/hooks';\nimport cx from 'classnames';\n\nexport default function Nav({\n  lang,\n  handleQuestionnaireClick,\n  handleSwitchLang,\n  translate,\n}) {\n  const location = useLocation();\n\n  const {scrollY} = useScroll();\n  return (\n    <nav className={cx({\n      'in-home': location.pathname === '/',\n      'in-questionnaire': location.pathname === '/questionnaire',\n      'in-mentions': location.pathname === '/mentions',\n      'in-top': scrollY < 100\n      })}>\n\n      <ul>\n        <li className=\"title-placeholder\">\n          {translate('website-title')}\n        </li>\n        <li>\n          <Link onClick={handleQuestionnaireClick} to=\"/questionnaire\"><span>{translate('questionnaire')}</span></Link>\n        </li>\n        <li>\n          <Link to=\"/mentions\"><span>{translate('legal-mentions')}</span></Link>\n        </li>\n      </ul>\n      \n      <ul>\n        <li>\n          <span className=\"lang-toggler\" onClick={handleSwitchLang}>\n            <span>{lang === 'fr' ? <b>fr</b> : 'fr'}</span>\n            <span>/</span>\n            <span>{lang === 'fr' ? 'en' : <b>en</b>}</span>\n          </span>\n        </li>\n      </ul>\n    </nav>\n  )\n}","import React, { useEffect } from 'react';\nimport {\n  Link,\n  useLocation\n} from 'react-router-dom';\nimport {useScroll} from '../helpers/hooks';\nimport cx from 'classnames';\n\nexport default function Title({\n  translate,\n}) {\n  const location = useLocation();\n\n  let {scrollY} = useScroll();\n\n  useEffect(() => {\n    scrollY = 0;\n  }, [location.pathname])\n\n  return (\n    <h1 className={cx('site-title', {\n        'in-home': location.pathname === '/',\n        'in-questionnaire': location.pathname === '/questionnaire',\n        'in-mentions': location.pathname === '/mentions',\n        'in-top': scrollY < 100\n      })}>\n      <Link to=\"/\" className=\"home-link\"><span>{translate('website-title')}</span></Link>\n    </h1>\n  )\n}","import React from 'react';\nimport {\n  useLocation\n} from 'react-router-dom';\nimport cx from 'classnames';\n\nexport default function Nav({\n  children\n}) {\n  const location = useLocation();\n\n  return (\n    <main className={cx({\n      'in-home': location.pathname === '/',\n      'in-questionnaire': location.pathname === '/questionnaire',\n    })}>\n      {children}\n    </main>\n  )\n}","import React, {useState, useEffect} from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nimport Questionnaire from './components/Questionnaire';\nimport Home from './components/Home';\nimport LegalMentions from './components/LegalMentions';\nimport Nav from './components/Nav';\nimport Title from './components/Title';\nimport Main from './components/Main';\n\nimport frLocale from './locales/fr';\nimport enLocale from './locales/en';\n\nconst locales = {\n  fr: frLocale,\n  en: enLocale\n};\n\nconst EventListener = function() {\n  this.subscribers = []\n  this.addSubscriber = (fn) => {\n    this.subscribers.push(fn)\n  }\n  this.onEvent = function(key, payload) {\n    this.subscribers.forEach(subscriber => {\n      subscriber(key, payload)\n    })\n  }\n}\n\nexport default function App() {\n  /**\n   * Get initial lang\n   */\n  let initialLang = 'fr';\n  const localLang = localStorage.getItem('mayday/lang');\n  const browserLang = navigator.language || navigator.userLanguage;\n  if (localLang) {\n    initialLang = localLang\n  }\n  else if (browserLang) {\n    initialLang = browserLang === 'fr' ? 'fr' : 'en';\n  }\n\n  const [lang, setLang] = useState(initialLang);\n\n  /**\n   * Save lang change to local storage\n   */\n  useEffect(() => {\n    localStorage.setItem('mayday/lang', lang);\n  }, [lang]);\n\n  const handleSwitchLang = () => {\n    if (lang === 'fr') {\n      setLang('en');\n    } else {\n      setLang('fr');\n    }\n  }\n  /**\n   * Set translate fn to use throughout the app\n   */\n  const locale = locales[lang];\n  const translate = id => {\n    return locale[id] || id;\n  }\n  \n\n  const [eventListener] = useState(new EventListener())\n\n  const handleQuestionnaireClick = () => {\n    eventListener.onEvent('questionnaireClick')\n  }\n\n\n  return (\n    <Router>\n      <div>\n        <Nav\n          {...{\n            lang,\n            handleQuestionnaireClick,\n            handleSwitchLang,\n            translate,\n          }}\n        />\n        \n        <Main>\n          <Switch>\n            <Route exact path=\"/\">\n              <Home {...{translate, lang}} />\n            </Route>\n            <Route path=\"/questionnaire\">\n              <Questionnaire {...{translate, lang, eventListener}} />\n            </Route>\n            <Route path=\"/mentions\">\n              <LegalMentions {...{translate, lang}} />\n            </Route>\n          </Switch>\n        </Main>\n\n        <Title\n          {\n            ...{\n              lang,\n              translate,\n            }\n          }\n        />\n        \n      </div>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}