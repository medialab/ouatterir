{"version":3,"sources":["helpers/misc.js","helpers/client.js","components/Questionnaire.js","locales/texts/intro-questionnaire/fr.md","locales/texts/intro-questionnaire/en.md","components/Footer.js","components/Home.js","locales/texts/intro-landing-1/fr.md","locales/texts/intro-landing-1/en.md","locales/texts/intro-landing-2/fr.md","locales/texts/intro-landing-2/en.md","locales/texts/intro-landing-3/fr.md","locales/texts/intro-landing-3/en.md","locales/texts/intro-step-1/fr.md","locales/texts/intro-step-1/en.md","locales/texts/intro-step-2/fr.md","locales/texts/intro-step-2/en.md","locales/texts/intro-step-3/fr.md","locales/texts/intro-step-3/en.md","components/LegalMentions.js","locales/texts/legal-mentions-1/fr.md","locales/texts/legal-mentions-1/en.md","locales/texts/legal-mentions-2/fr.md","locales/texts/legal-mentions-2/en.md","components/Events.js","helpers/hooks.js","components/Title.js","components/Nav.js","components/Main.js","App.js","index.js","assets/medialab-logo.svg","assets/zkm-logo.svg"],"names":["getOrInitObject","key","defaults","initialData","localStorage","getItem","JSON","parse","e","API_URL","process","REACT_APP_API_URL","defaultData","id","genId","email","undefined","propositions","translate","lang","eventListener","questions","useState","data","setData","initialStage","initialIndex","length","stage","setStage","questionnaireIndex","setQuestionnaireIndex","reviewVisible","setReviewVisible","sendStatus","setSendStatus","shareVisible","setShareVisible","useEffect","setItem","stringify","filter","proposition","Object","keys","find","indexOf","cleanData","setTimeout","el","document","querySelector","focus","thatTop","offsetTop","window","scrollTo","top","behavior","handleEvent","type","payload","addSubscriber","currentText","currentProposition","currentPropositionType","questionsLabels","numberOfQuestions","emailIsValid","test","handleAddActivity","Array","from","reduce","res","index","createProposition","newData","handleStopActivity","handleDevelopActivity","handleNextStage","nextStage","handlePreviousStage","handleActiveTextChange","thatText","map","prop","handleSaveActiveText","target","value","handleEmailChange","thatEvent","handleGivenNameChange","givenName","handleFamilyNameChange","familyName","handleWorkshopContactChange","workshopContact","handleAreaOfExpertiseChange","areaOfExpertise","handleSubmit","preventDefault","finalData","axios","method","url","postAnswer","then","catch","console","error","handleToggleReviewVisible","toggleShareVisible","renderSubmitForm","className","onChange","placeholder","onClick","cx","disabled","checked","renderProofRead","reverse","propositionIndex","labels","p","i","question","questionIndex","inDarkMode","stageMarkerLevel","Helmet","style","width","source","active","label","trim","onSubmit","href","to","rel","alt","src","medialabLogo","zkmLogo","Footer","events","setEvents","setError","now","Date","getTime","pastEvents","event","end","currentEvents","moment","locale","renderEventsList","evs","start","local","format","title","description","moderators","moderator","useScroll","lastScrollTop","setLastScrollTop","body","getBoundingClientRect","bodyOffset","setBodyOffset","scrollY","setScrollY","left","scrollX","setScrollX","scrollDirection","setScrollDirection","applyChanges","listener","addEventListener","removeEventListener","Title","location","useLocation","pathname","Nav","handleQuestionnaireClick","handleSwitchLang","isOpen","setIsOpen","children","locales","fr","en","EventListener","this","subscribers","fn","push","onEvent","forEach","subscriber","App","initialLang","localLang","browserLang","navigator","language","userLanguage","setLang","exact","path","Home","Questionnaire","Events","LegalMentions","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.198df5e0.chunk.js","sourcesContent":["import {v4 as genId} from 'uuid';\n/**\n * Gets data from local storage or return default value\n * @param {*} key \n * @param {*} defaults \n */\nexport const getOrInitObject = (key, defaults = {}) => {\n  let initialData = localStorage.getItem(key);\n  if (initialData && typeof initialData === 'string') {\n    try {\n      initialData = JSON.parse(initialData)\n    } catch(e) {\n      initialData = defaults;\n    }\n  } else if (initialData) {\n    return initialData;\n  } else {\n    initialData = defaults;\n  }\n  return initialData;\n}\n\nexport const createProposition = (type, questions) => {\n  const id = genId();\n  const numberOfQuestions = questions[type].length;\n  return {\n    type,\n    id,\n    ...Array.from(Array(numberOfQuestions).keys())\n    .reduce((res, index) => ({\n      ...res,\n      [`question${index + 1}`]: ''\n    }), {})\n  }\n};\n\n/**\n * Remove propositions for which all fields are empty\n * @param {obj} data \n */\nexport const cleanData = data => {\n  return {\n    ...data,\n    propositions: data.propositions.filter(proposition => {\n      const nonEmptyField = Object.keys(proposition)\n      .find((key) => {\n        if (key.indexOf('question') === 0) {\n          return proposition[key].length > 0\n        }\n        return false;\n      })\n      return nonEmptyField !== undefined\n    })\n  }\n}","import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:4000/';\n\nexport const postAnswer = data => {\n  return axios({\n    method: 'POST',\n    url: `${API_URL}answer`,\n    data: { data }\n  })\n}\n\n\nexport const getEvents = () => {\n  if (!process.env.REACT_APP_API_URL) {\n    return axios(`${process.env.PUBLIC_URL || ''}/calendar-example.json`)\n  }\n  return axios(`${API_URL}events`)\n}\n","import React, {useState, useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\nimport Md from 'react-markdown';\nimport Textarea from 'react-textarea-autosize';\nimport {v4 as genId} from 'uuid';\nimport cx from 'classnames';\nimport {getOrInitObject, createProposition, cleanData} from '../helpers/misc';\nimport {postAnswer} from '../helpers/client';\n\n\nimport introFr from '!!raw-loader!../locales/texts/intro-questionnaire/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introEn from '!!raw-loader!../locales/texts/intro-questionnaire/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\n\nconst defaultData = {\n  id: genId(),\n  email: undefined,\n  propositions: []\n}\n\n// min text length for answers\n// @todo put in config ?\nconst TEXT_LIMIT = 90;\n\nexport default function({\n  translate,\n  lang,\n  eventListener\n}) {\n  // registering questionnaire questions\n  const questions =  {\n    'develop': [\n      translate('to-develop-question-1'),\n      translate('to-develop-question-2'),\n      translate('to-develop-question-3'),\n      translate('to-develop-question-4'),\n      // translate('to-develop-question-5'),\n    ],\n    'stop': [\n      translate('to-stop-question-1'),\n      translate('to-stop-question-2'),\n      translate('to-stop-question-3'),\n      translate('to-stop-question-4'),\n    ]\n  }\n  /**\n   * ==============\n   * Initial values\n   * ==============\n   */\n  const initialData = getOrInitObject('mayday/questionnaireData', defaultData);\n  // questionnaire responses data\n  const [data, setData] = useState(initialData);\n  const initialStage = +getOrInitObject('mayday/questionnaireStage', 0);\n  // index of the proposition being edited\n  let initialIndex = +getOrInitObject('questionnaireIndex', 0);\n  // prevent exceptions or issues with data\n  if (!data || initialIndex > data.propositions.length  - 1) {\n    initialIndex = 0;\n  }\n  /**\n   * ==============\n   * State definitions\n   * ==============\n   */\n  // questionnaire stage\n  // stage = state machine for the questionnaire views\n  // \"stage\" values :\n  // 0 = spash screen\n  // 1-(n-1) = number of the active question\n  // null = final screen (send your proposals);\n  const [stage, setStage] = useState(initialStage);\n  // index of the proposition being edited\n  const [questionnaireIndex, setQuestionnaireIndex] = useState(initialIndex);\n  // \"review your answers\" open/close state\n  const [reviewVisible, setReviewVisible] = useState(false);\n  // xhr status\n  const [sendStatus, setSendStatus] = useState(undefined);\n\n  const [shareVisible, setShareVisible] = useState(false);\n  /**\n   * ==============\n   * Localstorage savings\n   * ==============\n   */\n  // save data in localstorage at each change\n  // @todo could be debounced\n  useEffect(() => {\n    localStorage.setItem('mayday/questionnaireData', JSON.stringify(data));\n  });\n  \n  // save stage to local storage\n  useEffect(() => {\n    localStorage.setItem('mayday/questionnaireStage', stage);\n    if(stage === 0) {\n      setData(cleanData(data))\n      setReviewVisible(false);\n    }\n    setReviewVisible(false);\n    // focusing on active textarea or input at each stage change\n    setTimeout(() => {\n      let el  = document.querySelector('textarea.active, input')\n      if (el) {\n        el.focus();\n      }\n      if (stage > 0) {\n        el = document.querySelector('.questionnaire-item.active');\n        if (el) {\n          const thatTop = el.offsetTop;\n          window.scrollTo({\n            top: thatTop,\n            behavior: 'smooth'\n          });\n        }\n      }\n      else {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth'\n        })\n      }\n    }, 600)\n  }, [stage]);\n  \n  // save currently edited proposition index\n  useEffect(() => {\n    localStorage.setItem('mayday/questionnaireIndex', questionnaireIndex);\n  }, [questionnaireIndex]);\n\n  useEffect(() => {\n    if (shareVisible) {\n      let el = document.querySelector('.share-container');\n      if(el) {\n        setTimeout(() => {\n          const top = el.offsetTop;\n          window.scrollTo({\n            top: top,\n            behavior: 'smooth'\n          });\n        }, 700)\n      }\n    }\n  }, [shareVisible]);\n\n\n  useEffect(() => {\n    if (reviewVisible) {\n      let el = document.querySelector('.propositions-container');\n      if(el) {\n        setTimeout(() => {\n          const top = el.offsetTop;\n          window.scrollTo({\n            top,\n            behavior: 'smooth'\n          });\n        }, 700)\n\n      }\n    }\n  }, [reviewVisible]);\n\n  // trick to enable reseting stage if questionnaire is clicked in nav\n  const handleEvent = function(type, payload) {\n    if (type === 'questionnaireClick') {\n      setStage(0);\n    }\n  }\n  useEffect(() => {\n    eventListener.addSubscriber(handleEvent)\n  }, [eventListener])\n\n  /**\n   * ==========================\n   * Temp variables\n   * ==========================\n   */\n  // capture current proposition data\n  const currentProposition = stage > 0 && questionnaireIndex < data.propositions.length && data.propositions[questionnaireIndex];\n  const currentPropositionType = currentProposition && currentProposition.type === 'develop' ? 'develop': 'stop';\n  \n  const questionsLabels = questions[currentPropositionType];\n  const numberOfQuestions = questionsLabels.length;\n\n  let currentText;\n  if (stage > 0 && stage !== -1) {\n    currentText = data.propositions[questionnaireIndex] ? data.propositions[questionnaireIndex][`question${stage}`] : '';\n  }\n  const emailIsValid = data.email && /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w+)+$/.test(data.email);\n\n  /**\n   * =========\n   * Callbacks\n   * =========\n   */\n  // add a new activity\n  const handleAddActivity = type => {\n    const proposition = createProposition(type, questions)\n    const newData = {\n      ...data,\n      propositions: [\n        ...data.propositions,\n        proposition\n      ]\n    }\n    setQuestionnaireIndex(data.propositions.length)\n    setData(newData);\n    setStage(1);\n  }\n  const handleStopActivity = () => handleAddActivity('stop', questions);\n  const handleDevelopActivity = () => handleAddActivity('develop', questions);\n\n  // go to next question\n  const handleNextStage = () => {\n    let nextStage = stage + 1;\n    if (nextStage > numberOfQuestions) {\n      nextStage = -1;\n    }\n    setStage(nextStage);\n  }\n  // go to previous question\n  const handlePreviousStage = () => {\n    const previousStage = stage - 1;\n    setStage(previousStage);\n  }\n  // save current question text\n  const handleSaveActiveText = (thatText) => {\n    const newData = {\n      ...data,\n      propositions: data.propositions.map((prop, index) => {\n        if (index === questionnaireIndex) {\n          return {\n            ...prop,\n            [`question${stage}`]: thatText\n          }\n        }\n        return prop;\n      })\n    }\n    setData(newData)\n  }\n  // register active textarea change\n  const handleActiveTextChange = (e) => {\n    handleSaveActiveText(e.target.value);\n  }\n  // register email input change\n  const handleEmailChange = (thatEvent) => {\n    setData({\n      ...data,\n      email: thatEvent.target.value,\n    })\n  }\n  // register given name input change\n  const handleGivenNameChange = (thatEvent) => {\n    setData({\n      ...data,\n      givenName: thatEvent.target.value,\n    })\n  }\n  // register family name input change\n  const handleFamilyNameChange = (thatEvent) => {\n    setData({\n      ...data,\n      familyName: thatEvent.target.value,\n    })\n  }\n  const handleWorkshopContactChange = (thatEvent) => {\n    setData({\n      ...data,\n      workshopContact: data.workshopContact !== undefined ? !data.workshopContact : true,\n    })\n  }\n  // register family name input change\n  const handleAreaOfExpertiseChange = (thatEvent) => {\n    setData({\n      ...data,\n      areaOfExpertise: thatEvent.target.value,\n    })\n  }\n  // send questionnaire to API\n  const handleSubmit = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    const finalData = {\n      ...data, \n      lang\n    }\n    setSendStatus('sending');\n    // this is a mock for the actual request\n    postAnswer(finalData)\n    .then(() => {\n      setSendStatus('success');\n      setTimeout(() => {\n        setSendStatus(undefined)\n      }, 4000)\n    })\n    .catch(e => {\n      console.error(e);\n      setSendStatus('error');\n      setTimeout(() => {\n        setSendStatus(undefined)\n      }, 4000)\n    })\n  }\n\n\n  // set \"review my propositions\" visibility\n  const handleToggleReviewVisible = () => {\n    setReviewVisible(!reviewVisible);\n    if (stage === -1) {\n      setShareVisible(false)\n    }\n  }\n  const toggleShareVisible = () => {\n    setShareVisible(!shareVisible);\n  }\n\n  const renderSubmitForm = () => (\n    <div className=\"submit-form\">\n      <div className=\"column\">\n        <h3>{translate('submit-form-explanation')}</h3>\n        <p>{translate('submit-form-anonymously-explanation')}</p>\n        <p>{translate('submit-form-with-contact-explanation')}</p>\n      </div>\n      <div className=\"column\">\n        <div className=\"input-container\">\n          <input type=\"input\" onChange={handleGivenNameChange} value={data.givenName || ''} placeholder={translate('given-name-prompt')} />\n        </div>\n        <div className=\"input-container\">\n          <input type=\"input\" onChange={handleFamilyNameChange} value={data.familyName || ''} placeholder={translate('family-name-prompt')} />\n        </div>\n        <div className=\"input-container\">\n          <input type=\"input\" onChange={handleAreaOfExpertiseChange} value={data.areaOfExpertise || ''} placeholder={translate('area-of-expertise-prompt')} />\n        </div>\n        <div className=\"input-container\">\n          <input type=\"email\" onChange={handleEmailChange} value={data.email || ''} placeholder={translate('email-prompt')} />\n          {\n            !emailIsValid && data.email &&\n            <p className=\"valid-email-prompt\">\n              {translate('please-enter-valid-email')}\n            </p>\n          }\n        </div>\n        <div onClick={handleWorkshopContactChange} className={cx(\"radio-container\", {disabled: !emailIsValid})}>\n          <span>\n            <input onChange={handleWorkshopContactChange} checked={emailIsValid && data.email && data.workshopContact || false} type=\"radio\"/>\n            <span className=\"checkmark\"></span>\n          </span>\n          <label>\n            {translate('workshop-contact-prompt')}\n          </label>\n        </div>\n        <div className=\"submit-container\">\n         <button disabled={data.email && data.email.length ? !emailIsValid : false} className=\"themed-yellow\" onClick={handleSubmit} type=\"submit\">\n            {translate('submit-form')}\n            <span className=\"chevron\">\n              <span />\n              <span />\n              <span />\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n  const renderProofRead = () => (\n    <div className=\"propositions-container\">\n\n      {\n        data.propositions\n        .reverse()\n        .map((proposition, propositionIndex) => {\n          const {type} = proposition;\n          const labels = type === 'develop' ? [\n            translate('to-develop-question-1'),\n            translate('to-develop-question-2'),\n            translate('to-develop-question-3'),\n            translate('to-develop-question-4'),\n            // translate('to-develop-question-5'),\n          ] : \n          [\n            translate('to-stop-question-1'),\n            translate('to-stop-question-2'),\n            translate('to-stop-question-3'),\n            translate('to-stop-question-4'),\n          ];\n\n          // const handleEditProposition = () => {\n          //   setQuestionnaireIndex(propositionIndex);\n          //   setStage(1)\n          // }\n\n          const handleDeleteProposition = () => {\n            const newData = {\n              ...data,\n              propositions: data.propositions.filter((p, i) => i !== propositionIndex)\n            }\n            setData(newData)\n            if (newData.propositions.length === 0) {\n              setReviewVisible(false);\n            }\n          }\n          \n          return (\n            <div key={propositionIndex} className=\"proposition\">\n              \n              <h3>\n                <span className=\"proposition-title\">\n                  {translate('Proposition')} {data.propositions.length - propositionIndex} ({translate(proposition.type === 'stop' ? 'add-activity-to-stop': 'add-activity-to-develop' )})\n                </span>\n                <span className=\"small-buttons-container\">\n                  \n                  <button className=\"themed-yellow\" onClick={handleDeleteProposition}>\n                    {translate('delete')}\n                  </button>\n                </span>\n              </h3>\n              \n              {\n                labels.map((question, questionIndex) => {\n                  const handleEdit = () => {\n                    setQuestionnaireIndex(propositionIndex);\n                    setStage(questionIndex + 1)\n                  }\n                  return (\n                    <div onClick={handleEdit} className=\"question\" key={questionIndex}>\n                      <div>\n                      <h5 className=\"step-indicator\">\n                        <b>{questionIndex + 1}/</b>{labels.length}\n                      </h5>\n                      <h4>{question}</h4>\n                      </div>\n                      <div>\n                      <blockquote>\n                        {proposition[`question${questionIndex + 1}`]}\n                      </blockquote>\n                      </div>\n                    </div>\n                  )\n                })\n              }\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n  const inDarkMode = stage === -1 || shareVisible;\n  const stageMarkerLevel = stage > 0 ? stage / (numberOfQuestions + 1) : stage === -1 ? 1 : 0;\n  return (\n    <div  className=\"questionnaire-container\">\n      <Helmet>\n        <title>{translate('website-title')} | {translate('questionnaire')}</title>\n        <style>{`\n        body { ${inDarkMode ? 'color: white;': ''} background-color: ${inDarkMode ? '#3E5368' :  '#B8C3CE'}; }\n        nav { background-color: ${inDarkMode ? '#3E5368' :  '#B8C3CE'}; }\n        ${inDarkMode ? 'nav .link-container span, nav .lang-toggler{color: white}' :  ''}\n        ${inDarkMode ? 'nav .burger-container div{border-bottom-color: white}' :  ''}\n        textarea { color: ${inDarkMode ? 'white' :  'inherit'}; }\n        button{ \n          color: ${inDarkMode ? 'white' :  'inherit'};\n          border-color: ${inDarkMode ? 'white' :  'var(--color-text)'};\n        }\n        .big-select li:hover .chevron span{\n          border-bottom: 2px solid ${inDarkMode ? 'var(--color-tertiary-background)' :  'var(--color-secondary-background)'};\n        }\n        `}</style>\n      </Helmet>\n      <div className=\"stage-marker-container\">\n        <div \n          className=\"stage-marker\"\n          style={{\n            width: stageMarkerLevel * 100 + '%'\n          }}\n        />\n      </div>\n      <div>\n        {\n          stage === 0 ?\n          <div>\n            <div className=\"questionnaire-intro\">\n              <Md source={lang === 'fr' ? introFr : introEn} />\n            </div>\n            <ul className={`big-select`}>\n              <li onClick={handleStopActivity}>\n                <h3>\n                  {translate('add-activity-to-stop')}\n                </h3>\n                <div>\n                <button className=\"themed-yellow stop\">\n                  <span className=\"chevron\">\n                    <span />\n                    <span />\n                    <span />\n                  </span>\n                </button>\n                </div>\n              </li>\n              <li onClick={handleDevelopActivity}>\n                <h3>\n                  {translate('add-activity-to-develop')}\n                </h3>\n                <div>\n                <button className=\"themed-yellow develop\">\n                  <span className=\"chevron\">\n                    <span />\n                    <span />\n                    <span />\n                  </span>\n                </button>\n                </div>\n              </li>\n            </ul>\n\n            <ul className={cx(\"questionnaire-footer\", {active: data.propositions.length > 0})}>\n            {data.propositions.length ?\n               <li>\n                 <button className={cx(\"themed-yellow\", {'active': shareVisible})} onClick={toggleShareVisible} >\n                 {translate('go-to-submit')}\n                 <span className=\"chevron\">\n                   <span/>\n                   <span/>\n                   <span/>\n                 </span>\n                 </button>\n                </li>\n              : null}\n              {\n                data.propositions.length ?\n              <li><button className={cx('review-button', {'active': reviewVisible})} onClick={handleToggleReviewVisible}>{translate('review-your-propositions')} {data.propositions.length ? `(${data.propositions.length})` : null}</button></li>\n                : null\n              }\n              \n            </ul>\n            <div className={`share-container ${shareVisible ? 'visible' : 'hidden'}`}>\n              {renderSubmitForm(false)}\n            </div>\n            { reviewVisible &&\n              renderProofRead()\n            }\n            \n          </div>\n          : null\n        }\n        {\n          stage > 0 ?\n          <ul className=\"question-container\">\n              {\n                questionsLabels.map((label, index) => {\n                  if (index === stage - 1) {\n                    return (\n                    <li key={label} className=\"questionnaire-item active\">\n                      <div>\n                        <h3 className=\"step-indicator\">\n                          <b>{index + 1}/</b>{questionsLabels.length}\n                        </h3>\n                        <h2>{label}</h2>\n                      </div>\n                      <div>\n                        <Textarea className=\"active\" value={currentText} onChange={handleActiveTextChange} placeholder={translate('write-here')} />\n                          {(stage !== 1 && currentText.length < TEXT_LIMIT) &&\n                          <div className=\"text-length-indicator\">\n                              <i>{translate('char-limit-indicator')}</i>\n                          </div>\n                          }\n                          <ul className=\"buttons-row reverse\">\n                          \n                          {\n                            stage < numberOfQuestions ?\n                            <li><button className={`themed-yellow ${stage === 1 || currentText.length > TEXT_LIMIT ? 'active': ''} ${currentPropositionType}`} disabled={!(stage === 1 && currentText.length) && currentText.length < TEXT_LIMIT} onClick={handleNextStage}>\n                                {translate('next-question')}\n                                <span className=\"chevron\">\n                                  <span />\n                                  <span />\n                                  <span />\n                                </span>\n                              </button>\n                            </li>\n                            : <li><button className={`themed-yellow ${stage === 1 || currentText.length > TEXT_LIMIT ? 'active': ''} ${currentPropositionType}`} disabled={!(stage === 1 && currentText.length ) && currentText.length < TEXT_LIMIT} onClick={handleNextStage}>\n                              {translate('validate-proposition')}\n                              <span className=\"chevron\">\n                                  <span />\n                                  <span />\n                                  <span />\n                                </span>\n                            </button></li>\n                          }\n                          {\n                            stage > 1 ?\n                            <li><button className={currentPropositionType} onClick={handlePreviousStage}>\n                              <span className=\"chevron reversed\">\n                                  <span />\n                                  <span />\n                                  <span />\n                                </span>\n                              {translate('previous-question')}\n                            </button></li>\n                            : null\n                          }\n                        </ul>\n\n                      </div>\n                    \n                      \n                      \n                    </li>);\n                  }\n                  const thatText = currentProposition[`question${index + 1}`];\n                  if (thatText.trim().length) {\n                    const handleClick = () => {\n                      setStage(index + 1)\n                    }\n                    return (\n                      <li className=\"questionnaire-item\" onClick={handleClick} key={label}>\n                        <div>\n                          <h3 className=\"step-indicator\">\n                            <b>{index + 1}/</b>{questionsLabels.length}\n                          </h3>\n                          <h2>{label}</h2>\n                        </div>\n                        <div>\n                          <Textarea value={thatText} />\n                        </div>\n                      </li>\n                    )\n                  }\n                  return null;\n                })\n              }\n            \n          </ul>\n          : null\n        }\n        {\n          stage === -1 ?\n          <div>\n            \n                <h2 className=\"end-title\">{translate('thank-you')}</h2>\n                {data.propositions.length > 0 &&\n                <div className=\"actions-container\">\n                    <ul>\n                      <li>\n                          <button className={cx(\"themed-yellow submit-prompt-button\", {'active': shareVisible})} onClick={toggleShareVisible} type=\"submit\">\n                            {translate('go-to-submit')}\n                            <span className=\"chevron\">\n                              <span />\n                              <span />\n                              <span />\n                            </span>\n                          </button>\n                      </li>\n                      <li>\n                        <button onClick={handleToggleReviewVisible} className={'review-button'}>\n                          {translate('review-your-propositions')} ({data.propositions.length})\n                        </button>\n                      </li>\n                    </ul>\n                  </div>\n                }\n                <div className=\"end-columns\">\n                  <div>\n                    <p>{translate('new-proposition-prompt')}</p>\n                    <ul className={`big-select minified`}>\n                      <li onClick={handleStopActivity}>\n                        <h3>\n                          {translate('add-activity-to-stop-bis')}\n                        </h3>\n                        <div>\n                        <button className=\"themed-yellow stop\">\n                          <span className=\"chevron\">\n                            <span />\n                            <span />\n                            <span />\n                          </span>\n                        </button>\n                        </div>\n                        </li>\n                      <li onClick={handleDevelopActivity}>\n                        <h3>\n                          {translate('add-activity-to-develop-bis')}\n                        </h3>\n                        <div>\n                        <button className=\"themed-yellow develop\">\n                          <span className=\"chevron\">\n                            <span />\n                            <span />\n                            <span />\n                          </span>\n                        </button>\n                        </div>\n                      </li>\n                     \n                    </ul>\n                  </div>\n\n                  \n                </div>\n                \n                \n                \n                <div className={`share-container ${shareVisible && data.propositions.length > 0 ? 'visible' : 'hidden'}`}>\n                  {renderSubmitForm()}\n                </div>\n                {reviewVisible && renderProofRead()}\n             \n          </div> : null\n        }\n        {\n          stage === null ?\n          <form className={`question-container normalized`} onSubmit={handleSubmit}>\n            {\n              reviewVisible ? null :\n              <div>\n                {renderSubmitForm()}\n              </div>\n            }\n          </form>\n          : null\n        }\n        <div className={cx(\"status-container\", sendStatus)}>\n          <div className=\"status-content\">\n            {translate(sendStatus)}\n          </div>\n        </div>\n        \n      </div>\n    </div>\n  )\n}","export default \"Il s’agit de faire la liste des activités et comportements dont vous vous sentez privées par la crise actuelle et qui vous donne la sensation d’une atteinte à vos conditions essentielles de subsistance.\\n\\nQu’est-ce que l’épidémie du Covid-19 a changé dans votre quotidien ?\";","export default \"\";","import React from 'react';\nimport {NavLink as Link} from 'react-router-dom';\n\nimport medialabLogo from '../assets/medialab-logo.svg';\nimport zkmLogo from '../assets/zkm-logo.svg';\n\n\nexport default ({\n  translate\n}) => (\n  <footer>\n        <div className=\"columns\">\n          <div>\n            <p>\n              {translate('for-information-contact')}\n            </p>\n            <p>\n              <a href=\"mailto:info@ouatterrir.fr\">info@ouatterrir.fr</a>\n            </p>\n          </div>\n          <div>\n            <p>\n              <Link to=\"/mentions\"><span>{translate('legal-mentions')}</span></Link>\n            </p>\n            <p>\n              <a target=\"blank\" rel=\"noopener\" href=\"https://github.com/medialab/ouatterrir\">{translate('website-source-code')}</a>\n            </p>\n            <p>\n              <a target=\"blank\" rel=\"noopener\" href=\"http://www.bruno-latour.fr\">{translate('latour-website')}</a>\n            </p>\n            \n          </div>\n          <div className=\"logos-container\">\n              <a target=\"blank\" className=\"logo\" rel=\"noopener\" href=\"https://medialab.sciencespo.fr\">\n                <img alt=\"medialab logo\" src={medialabLogo} />\n              </a>\n              <a target=\"blank\" className=\"logo\" rel=\"noopener\" href=\"https://zkm.de\">\n                <img alt=\"zkm logo\" src={zkmLogo} />\n              </a>\n            </div>\n        </div>\n      </footer>\n)\n","import React, {useEffect} from 'react';\nimport Md from 'react-markdown';\nimport {Link} from 'react-router-dom';\nimport {Helmet} from 'react-helmet';\n\nimport Footer from './Footer';\n\nimport introLanding1Fr from '!!raw-loader!../locales/texts/intro-landing-1/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introLanding1En from '!!raw-loader!../locales/texts/intro-landing-1/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introLanding2Fr from '!!raw-loader!../locales/texts/intro-landing-2/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introLanding2En from '!!raw-loader!../locales/texts/intro-landing-2/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introLanding3Fr from '!!raw-loader!../locales/texts/intro-landing-3/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introLanding3En from '!!raw-loader!../locales/texts/intro-landing-3/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introStep1Fr from '!!raw-loader!../locales/texts/intro-step-1/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introStep1En from '!!raw-loader!../locales/texts/intro-step-1/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introStep2Fr from '!!raw-loader!../locales/texts/intro-step-2/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introStep2En from '!!raw-loader!../locales/texts/intro-step-2/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport introStep3Fr from '!!raw-loader!../locales/texts/intro-step-3/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport introStep3En from '!!raw-loader!../locales/texts/intro-step-3/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nexport default function({\n  translate,\n  lang\n}) {\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    })\n  })\n  return (\n    <>\n      <Helmet>\n        <title>{translate('website-title')}</title>\n      </Helmet>\n      <header>\n        <h1 className=\"site-big-title\">\n          {translate('website-title')}\n        </h1>\n        {/* <div className=\"metadata\">\n          <p>\n            <b>{translate('preparatory-exercises')}</b>\n          </p>\n          <p>\n            {translate('proposition-from-collective')}\n            <br/>\n            <b>{translate('collective-name')}</b>\n          </p>\n          <p>\n            {translate('launching-the')}\n            <br/>\n            <b>{translate('launching-date')}</b>\n          </p>\n        </div> */}\n      </header>\n\n      {/* part 1 */}\n      <div className=\"columns\">\n        <div>\n          <Md source={lang === 'fr' ? introLanding1Fr : introLanding1En} />\n        </div>\n        <div>\n          <Md source={lang === 'fr' ? introLanding2Fr : introLanding2En} />\n        </div>\n        <div>\n          <Md source={lang === 'fr' ? introLanding3Fr : introLanding3En} />\n        </div>\n      </div>\n\n      {/* part 2 */}\n      <ul className=\"steps\">\n        <li>\n          <div>\n            <h2>\n              <span>1</span>\n            </h2>\n          </div>\n          <div className=\"contents\">\n            <Md source={lang === 'fr' ? introStep1Fr : introStep1En} />\n          </div>          \n          <div>\n            <Link className=\"button starter-button\" to=\"questionnaire\">\n              <span>\n                <span>{translate('prompt-activity-1')}</span>\n                <span className=\"chevron\">\n                  <span />\n                  <span />\n                  <span />\n                </span>\n              </span>\n            </Link>\n          </div>\n        </li>\n        <li>\n          <div>\n            <h2>2</h2>\n          </div>\n          <div className=\"contents\">\n            <Md source={lang === 'fr' ? introStep2Fr : introStep2En} />\n          </div>\n          <div>\n            <Link className=\"button starter-button disabled\">\n              <span>\n                <span>{translate('prompt-activity-2')}</span>\n                <span className=\"chevron\">\n                  <span />\n                  <span />\n                  <span />\n                </span>\n              </span>\n            </Link>\n          </div>\n        </li>\n        <li>\n          <div>\n            <h2>3</h2>\n          </div>\n          <div className=\"contents\">\n            <Md source={lang === 'fr' ? introStep3Fr : introStep3En} />\n          </div>\n          <div>\n            <Link className=\"button starter-button disabled\">\n              <span>\n                <span>{translate('prompt-activity-3')}</span>\n                <span className=\"chevron\">\n                  <span />\n                  <span />\n                  <span />\n                </span>\n              </span>\n            </Link>\n          </div>\n        </li>\n      </ul>\n      <Footer {...{translate}} />\n    </>\n  )\n}\n","export default \"Où atterrir ? La tendance lourde est évidemment le retour à la situation d’avant la pandémie, à la fois satisfaisante (on retrouve la vie normale) et catastrophique (l’urgence climatique ne fait que croître). \\n\\nLe seul moyen de profiter de la situation actuelle, c’est de tirer la leçon politique de ce virus capable à la fois d’imposer sa loi partout dans le monde, mais qui obtient ce pouvoir de globalisation sans jamais quitter le processus de contamination d’individu à individu. Ce pouvoir pouvons-nous l’imiter en le tournant à notre profit ? \\n\";","export default \"Where to land? The main trend is obviously a return to the pre-pandemic situation, which is both satisfactory (we are back to normal life) and catastrophic (the climate emergency is only increasing).\\n\\nThe only way to take advantage of the current situation is to learn the political lesson this virus provides us. It is capable of imposing its law everywhere in the world, but obtains this power of globalization without ever leaving the process of contamination from individual to individual. Can we imitate this power by turning it to our advantage?\";","export default \"Si nous sommes collectivement capables, en nous imposant des « gestes barrières » d’écraser la courbe de la contamination, sommes-nous capables de nous imposer d’autres « gestes barrières » pour « écraser la courbe » du pouvoir contaminant de ceux qui veulent, eux aussi, profiter de la crise pour nous forcer à rester où nous étions — mais en pire.\\n\\nPour tirer la leçon de viralité du Covid 19 et profiter de la crise pour atterrir sur une terre plus habitable, encore faut-il s’y préparer maintenant, pendant le confinement, avant que le retour à la « normale », ne vienne effacer de notre mémoire la totale étrangeté de la situation. \\n\\nNous proposons trois niveaux de préparation, plus ou moins intense.\\n\";","export default \"If we are collectively able, by imposing \\\"protective measures\\\" on ourselves, to crush the curve of contamination, are we able to impose other \\\"protective measures\\\" on ourselves to \\\"crush the curve\\\" of the contaminating power of those who want to take advantage of the crisis to force us to stay where we were - but worse.\\n\\nIn order to learn the lesson of the virality of Covid 19 and take advantage of the crisis to land on a more habitable earth, we must prepare ourselves for it now, during the confinement, before the return to \\\"normal\\\" erases from our memory the total strangeness of the situation.\\n\\nWe propose three levels of preparation, more or less intense.\\n\";","export default \"Pour en savoir plus:\\n\\n[Imaginer les gestes-barrières contre le retour à la production d’avant-crise](https://aoc.media/opinion/2020/03/29/imaginer-les-gestes-barrieres-contre-le-retour-a-la-production-davant-crise/)\\n\\nPublié dans [AOC media - Analyse Opinion Critique](https://aoc.media/) le 29-03-2020\\n\\n\";","export default \"To learn more you can read the article:\\n\\n[What protective measures can you think of so we don’t go back to the pre-crisis production model?](http://www.bruno-latour.fr/sites/default/files/downloads/P-202-AOC-ENGLISH_1.pdf)\\n\\nOriginally published in French by [AOC](https://aoc.media/) media - Analyse Opinion Critique\\n\\n\";","export default \"## Un questionnaire en ligne pour recueillir des descriptions\\n\\nCe niveau consiste à répondre  à un certain nombre de questions sur le monde d’après. L’avantage de ce dispositif, c’est qu’il est facile à mettre en œuvre et qu’il existe beaucoup d’initiatives en ce sens.\\n\\nL’inconvénient, c’est que les moyens numériques, trop peu exigeants en temps et en réflexion, encouragent la simple expression spontanée. Pour éviter d’accumuler des vœux pieux, sans mesurer les difficultés, il est préférable de partir d’abord de son expérience personnelle. Cela permet de diriger ensuite l’attention sous forme d’une petite enquête et de commencer à rendre la description plus réaliste en commençant à repérer ceux qui peuvent soutenir et ceux qui peuvent s’opposer à vos voeux.\\n\\nDans tous les cas, il est essentiel de commencer à recueillir vos réflexions individuelles, au moyen d'un simple questionnaire, pour commencer à imaginer et à mettre en œuvre de nouvelles formes d'actions collectives.\\n\";","export default \"## An online questionnaire to collect descriptions\\n\\nThe first level consists, quite simply, in using digital means to answer a number of questions about how individuals would see the next world. The advantage of this system is that it is easy to implement and there are many initiatives in this direction.\\n\\nThe disadvantage is that the numerical means, which require too little time and thought, encourage simple spontaneous expression. There is therefore a risk of accumulating wishful thinking but without measuring the difficulties, without pushing for an investigation, without even taking the trouble to describe the opponents of the recommended measures, and above all without seriously assessing what might be counterproductive or impractical.\\n\\nNevertheless, starting to collect and systematise your individual experiences and reflections, through a simple questionnaire, is essential to begin to imagine and implement new forms of collective action.\\n\";","export default \"## Des groupes de contact en ligne et discussions\\n\\nLes réponses recueillies au niveau 1 sont analysées pour dégager des thèmes et des sujets qui seront utiles à l'organisation d'ateliers en ligne. \\n\\nUne fois que vous avez rempli le questionnaire, si vous êtes intéressés, nous vous invitons à participer à un de ces petits groupes de contact en choisissant *avec l’aide de modérateurs* de prolonger la description pour qu’elle soit plus approfondie et plus ancrée dans la réalité. L’objectif étant qu’à partir du 15 mai 2020 chaque invention de « gestes barrières » s'accompagnera  d’un groupe d’appartenance qui a commencé à enquêter collectivement sur les manières de résister au moment du retour à la « normale ». Ici, les outils web ne servent pas à exprimer une opinion, ni accumuler des statistiques, mais à constituer autant de groupes de contact qu’il y a de situations problématiques, et à repérer les “alliés” tout comme les “adversaires” au moment du déconfinement. L’infrastructure élaborée par le [médialab de Sciences Po](https://medialab.sciencespo.fr), en open source, n’a pas d’autre but que de faciliter la constitution de ces groupes de contact.\";","export default \"## Creation of contact groups online, and discussions\\n\\nResponses collected at level 1 are analyzed to identify themes and topics that will be useful for the organization of online workshops.\\n\\nOnce you have completed the questionnaire, if you are interested, we invite you to participate in one of these small contact groups who choose, with the help of moderators, to extend the description so that it is more in-depth and grounded in reality.\\n\\nThe objective is that from the 15th of May each invention of \\\"preventive measures\\\" is accompanied by online groups that are jointly investigating how to resist the return to \\\"normal life\\\". Here, web tools are not used to express an opinion, nor for gathering statistics, but to form a contact group capable of describing a situation and identifying allies as well as adversaries at the moment of deconfinement. The open-source infrastructure developed by the [médialab at Sciences Po](https://medialab.sciencespo.fr/) has no other purpose than to facilitate the constitution of these moderation groups.\\n\";","export default \"## Des ateliers en face à face\\n\\nNous travaillons depuis trois ans dans le cadre d’un collectif [« Où atterrir ? »](http://ouatterrir.fr/) à un troisième niveau (le projet pilote), qui exige le face à face et la rencontre longue et méticuleuse, en petits groupes, pour réapprendre à décrire son territoire de façon concrète et controversée. Nous avons appris par expérience que les exercices préparatoires demandent beaucoup de temps, un réapprentissage de la vie collective et une culture artistique qui permettent de s’exprimer d’une nouvelle manière. L'objectif est d’aboutir à ce que nous appelons des [« nouveaux cahiers de doléances »](http://www.bruno-latour.fr/fr/node/792).\\n\\nLe but est de pouvoir très rapidement, retrouver les groupes de contact qui ont décidé de tel ou tel « geste barrière ». Soit qu’il s’agisse de groupes liés à un territoire précis, soit que ces groupes se soient rassemblés autour d’une question, d’une activité, d’une entreprise, d’un comportement qu’ils ont choisi de modifier par leur action « virale ». Ces exercices de préparation sont le seul moyen pratique et simple que nous ayons imaginé pour profiter du confinement et articuler la crise sanitaire actuelle avec la mutation écologique qui vient. \\n\\n\";","export default \"## Face-to-face workshops\\n\\nWe have been working for three years as part of a collective named [\\\"Où atterrir? (Where to land?)”](http://ouatterrir.fr/) at a third level (the pilot project), which requires face-to-face and long and meticulous meetings in small groups to relearn how to describe one's territory in a concrete and controversial way. We have learned from experience that the preparatory exercises require a lot of time, a relearning of collective life and an artistic culture that allows one to express oneself in a new way. We intend to lead to what we call [\\\"new ledgers of complaints\\\"](http://www.bruno-latour.fr/fr/node/792).\\n\\nThe goal is to be able to very quickly find the contact groups that have decided on this or that \\\"protective measure\\\". Either they are groups linked to a specific territory, or these groups are defined by a question, an activity, a company, a behaviour that they have chosen to modify by their \\\"viral\\\" action. These preparatory exercises are the only practical and simple way we have devised to take advantage of containment and to link the current health crisis with the ecological change that is coming.\\n\";","import React, {useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\nimport Md from 'react-markdown';\n\nimport mentionsFr1 from '!!raw-loader!../locales/texts/legal-mentions-1/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport mentionsEn1 from '!!raw-loader!../locales/texts/legal-mentions-1/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport mentionsFr2 from '!!raw-loader!../locales/texts/legal-mentions-2/fr.md';/* eslint import/no-webpack-loader-syntax : 0 */\nimport mentionsEn2 from '!!raw-loader!../locales/texts/legal-mentions-2/en.md';/* eslint import/no-webpack-loader-syntax : 0 */\n\nimport Footer from './Footer';\n\nexport default function({\n  translate,\n  lang\n}) {\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    })\n  })\n  return (\n    <div className=\"mentions-container\">\n      <Helmet>\n        <title>{translate('website-title')} | {translate('legal-mentions')}</title>\n      </Helmet>\n      <div className=\"mentions-content\">\n        <div>\n          <Md source={lang === 'fr' ? mentionsFr1 : mentionsEn1} />\n        </div>\n        <div>\n          <Md source={lang === 'fr' ? mentionsFr2 : mentionsEn2} />\n        </div>\n      </div>\n      \n      <Footer {...{translate}} />\n    </div>\n  )\n}","export default \"### Le contenu de ce site internet est fourni par :\\n\\nSciences Po  \\n27 rue Saint-Guillaume  \\n75337 Paris Cedex 07\\n\\nTéléphone: (+33) 01 45 49 50 50\\nFax: (+33) 01 42 22 31 26\\nEmail: webmestre@sciencespo.fr\\n\\n### Directeur de la publication\\n\\nFrédéric Mion, administrateur de la Fondation nationale des sciences politiques et directeur de l’Institut d’études politiques de Paris.\\n\\n### Hébergement\\n\\nCe site internet est hébergé par la Fondation Nationale des Sciences Politiques (FNSP):  \\n\\nSciences Po - Direction des Systèmes d'Information  \\nCode APE : 803Z  \\n27, rue saint Guillaume  \\n75337 Paris cedex 07\";","export default \"### The contents of this site are provided by:\\n\\nSciences Po  \\n27 rue Saint-Guillaume  \\n75337 Paris Cedex 07\\n\\nPhone: (+33) 01 45 49 50 50\\nFax: (+33) 01 42 22 31 26  \\nEmail: webmestre@sciencespo.fr\\n\\n### Publisher\\n\\nFrédéric Mion, President of Sciences Po\\n\\n### Hosting\\n\\nThis website is hosted by the Fondation Nationale des Sciences Politiques (FNSP):  \\n\\nSciences Po - Direction des Systèmes d'Information  \\nCode APE : 803Z  \\n27, rue saint Guillaume  \\n75337 Paris cedex 07\";","export default \"### Propriété industrielle et intellectuelle\\n\\nSauf mention contraire, toutes les informations reproduites dans ce site web (textes, photos, logos...) sont protégées par des droits de propriété intellectuelle détenus par Sciences Po ou par ses partenaires. Par conséquent, aucune de ces informations ne peut être reproduite, modifiée, rediffusée, traduite, exploitée commercialement ou réutilisée de quelque manière que ce soit sans l'accord préalable et écrit de Sciences Po.\\n\\nLe code-source de ce site est distribué sous [licence libre open source AGPL 3.0](https://github.com/medialab/ouatterrir/blob/master/LICENSE) et peut donc être reproduit, réutilisé, modifié, redistribué et republié librement. Il est accessible sur [GitHub](https://github.com/medialab/ouatterrir).\\n\\n### Les liens hypertextes\\n\\nLes pages web de ce site proposent également des liens vers d'autres sites pour lesquels nous ne sommes responsables, ni de leur respect des normes d'ordre public et bonnes mœurs d'une part, ni de leur politique de protection des données personnelles ou d'utilisation qui en seraient faites d'autre part. En accédant à un autre site, par l'intermédiaire d'un lien hypertexte, vous acceptez que cet accès s'effectue à vos risques et périls. En conséquence, tout préjudice direct ou indirect résultant de votre accès à un autre site relié par un lien hypertexte ne peut engager la responsabilité de Sciences Po.\\n\\n### Informatique et Libertés\\n\\nLes seules données personnelles collectées optionnellement sur ce site sont le nom, le prénom, le domaine d'expertise et l'e-mail des utilisateurs ayant volontairement souhaité remplir ces informations à la fin du questionnaire. Ces informations ne seront utilisées qu'à seules fins d'analyse des réponses reçues et pour prendre contact avec les utilisateurs l'ayant explicitement demandé.\\n\\nVous pouvez exercer votre droit d'accès, de modification, de rectification ou de suppression des données personnelles vous concernant en nous écrivant :  \\n\\npar courrier : **médialab, 27 rue Saint Guillaume 75337 Paris Cedex 07**  \\npar courrier électronique : **medialab@sciencespo.fr**\\n\";","export default \"### Industrial and intellectual property\\n\\nExcept when explicitely mentioned, all information on this website (text, photos, logos...) is protected by the copyrights held by Sciences Po or their partners. Therefore, the information may not be reproduced, modified, republished, re-aired, translated, distributed or reused in any manner, without the written consent of Sciences Po.\\n\\nThis website's source code is released under the [free libre open source license AGPL 3.0](https://github.com/medialab/ouatterrir/blob/master/LICENSE) and can therefore be reproduced, reused, modified, republished and re-aired freely. It is available on [GitHub](https://github.com/medialab/ouatterrir).\\n\\n### Hypertext links\\n\\nThe pages of this website also contain links to other websites for which we are in no manner responsible, neither regarding their adhesion to public order or good conduct, on the one hand, nor regarding their personal data privacy policies and use, on the other. By accessing an outside site, through a hypertext link, you accept that this access is carried out at your own risk. Therefore, Sciences Po will in no way be held responsible for any direct or indirect damage resulting from your access to an outside site through a hypertext link.\\n\\n### Personal information\\n\\nThis website only collects personal information under the form of a name, surname, area of expertise and e-mail which are optionnally and voluntarily provided by individuals participating to the questionnaire. These will only be used for analysing the answers received and to contact those users who explicitely requested so.\\n\\nTo learn about, get access to or ask for access, modification, rectification or deletion of personal information we might have collected please contact:  \\n\\nby mail: **médialab, 27 rue Saint Guillaume 75337 Paris Cedex 07, France**  \\nby e-mail: **medialab@sciencespo.fr**\\n\";","import React, {useEffect, useState} from 'react';\nimport {Helmet} from 'react-helmet';\nimport Md from 'react-markdown';\nimport moment from 'moment';\nimport 'moment/locale/fr.js';\nimport {getEvents} from '../helpers/client';\n\nimport Footer from './Footer';\n\nexport default function({\n  translate,\n  lang\n}) {\n\n  const [events, setEvents] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n   getEvents()\n   .then(({data}) => {\n     setEvents(data);\n   }) \n   .catch((e) => {\n     console.error(e);\n     setError(e);\n   })\n  }, [])\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    })\n  });\n  const now = new Date().getTime();\n  const pastEvents = events.filter(event => event.end < now);\n  const currentEvents = events.filter(event => event.end >= now);\n  moment.locale(lang)\n  const renderEventsList = evs => (\n    <table className=\"events-list-container\">\n      <thead>\n        <tr>\n          <th>{translate('when')}</th>\n          <th>{translate('event')}</th>\n          <th>{translate('moderators')}</th>\n        </tr>\n      </thead>\n      <tbody>\n        {\n          evs.map((event, index) => (\n            <tr key={index}>\n              <td className=\"dates-container\">\n                {moment(event.start).local().format(lang === 'fr' ? \"dddd Do MMMM YYYY, HH:mm\" : \"dddd MMMM, Do YYYY, HH:mm\")} — {moment(event.end).local().format('HH:mm')}\n              </td>\n              <td className=\"event-container\">\n                <h2>{event.title}</h2>\n                <Md source={event.description} />\n              </td>\n              <td className=\"moderators-container\">\n                {\n                  event.moderators.map((moderator, index) => <span key={index}>{moderator}</span>)\n                }\n              </td>\n            </tr>\n          ))\n        }\n      </tbody>\n    </table>\n  )\n  return (\n    <div className=\"events-container\">\n      <Helmet>\n        <title>{translate('website-title')} | {translate('events')}</title>\n      </Helmet>\n      <div className=\"events-content\">\n        {\n          events.length ?\n          <>\n            <div className=\"current-events events-section\">\n              <h1>{translate('events')}</h1>\n              {renderEventsList(currentEvents)}\n            </div>\n            <div className=\"past-events events-section\">\n              <h1>{translate('past-events')}</h1>\n              {renderEventsList(pastEvents)}\n            </div>\n          </>\n        : error ?\n            <div className=\"events-info\">\n              {translate('events-could-not-be-retrieved')}\n            </div>\n            :\n            <div className=\"events-info\">\n              {translate('loading-events')}\n            </div>\n        }      \n      </div>\n      <Footer {...{translate}} />\n    </div>\n  )\n}","/**\n * useScroll React custom hook\n * Usage:\n *    const { scrollX, scrollY, scrollDirection } = useScroll();\n */\n\nimport { useState, useEffect } from \"react\";\n\nexport function useScroll() {\n  const [lastScrollTop, setLastScrollTop] = useState(0);\n  const [bodyOffset, setBodyOffset] = useState(\n    document.body.getBoundingClientRect()\n  );\n  const [scrollY, setScrollY] = useState(bodyOffset.top);\n  const [scrollX, setScrollX] = useState(bodyOffset.left);\n  const [scrollDirection, setScrollDirection] = useState();\n\n  const applyChanges = () => {\n    setBodyOffset(document.body.getBoundingClientRect());\n    setScrollY(-bodyOffset.top);\n    setScrollX(bodyOffset.left);\n    setScrollDirection(lastScrollTop > -bodyOffset.top ? \"down\" : \"up\");\n    setLastScrollTop(-bodyOffset.top);\n  }\n\n  const listener = e => {\n    // applyChanges();\n    setTimeout(applyChanges, 100);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", listener);\n    return () => {\n      window.removeEventListener(\"scroll\", listener);\n    };\n  });\n\n  return {\n    scrollY,\n    scrollX,\n    scrollDirection\n  };\n}","import React, { useEffect } from 'react';\nimport {\n  Link,\n  useLocation\n} from 'react-router-dom';\nimport {useScroll} from '../helpers/hooks';\nimport cx from 'classnames';\n\nexport default function Title({\n  translate,\n}) {\n  const location = useLocation();\n\n  let {scrollY} = useScroll();\n\n  useEffect(() => {\n    scrollY = 0;\n  }, [location.pathname])\n\n  /**\n   * @todo\n   * dirty and performance-consuming but works better\n   */\n   scrollY = -document.body.getBoundingClientRect().top;\n\n  return (\n    <h1 className={cx('site-title', {\n        'in-home': location.pathname === '/',\n        'in-questionnaire': location.pathname === '/questionnaire',\n        'in-mentions': location.pathname === '/mentions',\n        'in-top': scrollY < 100\n      })}>\n      <Link to=\"/\" className=\"home-link\"><span>{translate('website-title')}</span></Link>\n    </h1>\n  )\n}","import React, {useState} from 'react';\nimport {\n  NavLink as Link,\n  useLocation\n} from 'react-router-dom';\nimport {useScroll} from '../helpers/hooks';\nimport cx from 'classnames';\n\nimport Title from './Title';\n\nexport default function Nav({\n  lang,\n  handleQuestionnaireClick,\n  handleSwitchLang,\n  translate,\n}) {\n  const location = useLocation();\n\n  const {scrollY} = useScroll();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const toggleIsOpen = () => {\n    setIsOpen(!isOpen)\n  }\n  return (\n    <nav className={cx({\n      'in-home': location.pathname === '/',\n      'in-questionnaire': location.pathname === '/questionnaire',\n      'in-mentions': location.pathname === '/mentions',\n      'in-top': scrollY < 100,\n      'is-open': isOpen\n      })}>\n      <Title\n        {\n          ...{\n            lang,\n            translate,\n          }\n        }\n      />\n\n      <ul>\n        <li className=\"link-container\">\n          <Link onClick={handleQuestionnaireClick} to=\"/questionnaire\"><span>{translate('nav-1')}</span></Link>\n        </li>\n        <li className=\"link-container\">\n          <Link onClick={handleQuestionnaireClick} to=\"/events\"><span>{translate('nav-2')}</span></Link>\n        </li>\n        <li className=\"link-container\">\n          <span>{translate('nav-3')}</span>\n        </li>\n      </ul>\n      \n      <ul className=\"lang-toggler-wrapper\">\n        <li>\n          <span className=\"lang-toggler\" onClick={handleSwitchLang}>\n            <span>{lang === 'fr' ? <b>fr</b> : 'fr'}</span>\n            <span>/</span>\n            <span>{lang === 'fr' ? 'en' : <b>en</b>}</span>\n          </span>\n        </li>\n      </ul>\n      <ul className=\"burger-wrapper\">\n        <li onClick={toggleIsOpen} className=\"burger-container\">\n          <div></div>\n          <div></div>\n          <div></div>\n        </li>\n      </ul>\n    </nav>\n  )\n}","import React from 'react';\nimport {\n  useLocation\n} from 'react-router-dom';\nimport cx from 'classnames';\n\nexport default function Nav({\n  children\n}) {\n  const location = useLocation();\n\n  return (\n    <main className={cx({\n      'in-home': location.pathname === '/',\n      'in-questionnaire': location.pathname === '/questionnaire',\n    })}>\n      {children}\n    </main>\n  )\n}","import React, {useState, useEffect} from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nimport Questionnaire from './components/Questionnaire';\nimport Home from './components/Home';\nimport LegalMentions from './components/LegalMentions';\nimport Events from './components/Events';\nimport Nav from './components/Nav';\nimport Main from './components/Main';\n\nimport frLocale from './locales/fr';\nimport enLocale from './locales/en';\n\nconst locales = {\n  fr: frLocale,\n  en: enLocale\n};\n\nconst EventListener = function() {\n  this.subscribers = []\n  this.addSubscriber = (fn) => {\n    this.subscribers.push(fn)\n  }\n  this.onEvent = function(key, payload) {\n    this.subscribers.forEach(subscriber => {\n      subscriber(key, payload)\n    })\n  }\n}\n\nexport default function App() {\n  /**\n   * Get initial lang\n   */\n  let initialLang = 'fr';\n  const localLang = localStorage.getItem('mayday/lang');\n  const browserLang = navigator.language || navigator.userLanguage;\n  if (localLang) {\n    initialLang = localLang\n  }\n  else if (browserLang) {\n    initialLang = browserLang === 'fr' ? 'fr' : 'en';\n  }\n\n  const [lang, setLang] = useState(initialLang);\n\n  /**\n   * Save lang change to local storage\n   */\n  useEffect(() => {\n    localStorage.setItem('mayday/lang', lang);\n  }, [lang]);\n\n  const handleSwitchLang = () => {\n    if (lang === 'fr') {\n      setLang('en');\n    } else {\n      setLang('fr');\n    }\n  }\n  /**\n   * Set translate fn to use throughout the app\n   */\n  const locale = locales[lang];\n  const translate = id => {\n    return locale[id] || id;\n  }\n  \n\n  const [eventListener] = useState(new EventListener())\n\n  const handleQuestionnaireClick = () => {\n    eventListener.onEvent('questionnaireClick')\n  }\n\n\n  return (\n    <Router>\n      <div>\n        <Nav\n          {...{\n            lang,\n            handleQuestionnaireClick,\n            handleSwitchLang,\n            translate,\n          }}\n        />\n        \n        <Main>\n          <Switch>\n            <Route exact path=\"/\">\n              <Home {...{translate, lang}} />\n            </Route>\n            <Route path=\"/questionnaire\">\n              <Questionnaire {...{translate, lang, eventListener}} />\n            </Route>\n            <Route path=\"/events\">\n              <Events {...{translate, lang}} />\n            </Route>\n            <Route path=\"/mentions\">\n              <LegalMentions {...{translate, lang}} />\n            </Route>\n          </Switch>\n        </Main>\n        \n      </div>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/medialab-logo.b7091081.svg\";","module.exports = __webpack_public_path__ + \"static/media/zkm-logo.07168fdd.svg\";"],"sourceRoot":""}