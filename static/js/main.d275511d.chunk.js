/*! For license information please see main.d275511d.chunk.js.LICENSE.txt */
(this["webpackJsonpouatterrir-client"]=this["webpackJsonpouatterrir-client"]||[]).push([[0],{165:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(50),s=n.n(i),r=(n(65),n(9)),l=n(13),u=n(12),c=n(15),p=n(58),m=n(3),d=n(16),v=n(17),h=n.n(v),f=n(33),b=n(166),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=localStorage.getItem(e);if(n&&"string"===typeof n)try{n=JSON.parse(n)}catch(o){n=t}else{if(n)return n;n=t}return n},E=n(53),g=n.n(E),q=Object({NODE_ENV:"production",PUBLIC_URL:"/ouatterrir",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL||"//localhost:4000/",w="Profitons de la suspension forc\xe9e de nos activit\xe9s pour dresser l'inventaire de celles que nous aimerions voir reprendre \xe0 l'identique (comme avant), mieux, ou qu'elles ne reprennent pas du tout. Le but est de faire la liste des activit\xe9s dont vous vous sentez priv\xe9es par la crise actuelle et qui vous donne la sensation d\u2019une atteinte \xe0 vos conditions essentielles de subsistance. \n\nCet exercice sera d\u2019autant plus utile qu\u2019il portera sur une exp\xe9rience personnelle directement v\xe9cue. On ne cherchera donc pas \xe0 nommer des entit\xe9s abstraites sur lequel on n'a peu de prise (le capitalisme, le syst\xe8me, le p\xe9trole en g\xe9n\xe9ral etc...) mais de partir de cas extr\xeamement pr\xe9cis rencontr\xe9s dans le quotidien.\n\nAttention : ceci n\u2019est pas un questionnaire, il ne s\u2019agit pas d\u2019un sondage. C\u2019est une aide \xe0 l'auto-description, c'est -\xe0-dire un exercice qui cherche \xe0 d\xe9crire vos moyens de subsistance et ce \xe0 quoi vous \xeates attach\xe9s.",k='Let\u2019s take advantage of the enforced suspension of most activities to set out the inventory of those among them we would like to see not come back and those, on the other hand, that we would like to see developed.\n \nIt will be all the more useful if the inventory relates to actually lived personal experience. The point is therefore not trying to name abstract entities over which we have little control (capitalism, the "system", oil in general, etc...) but to start from extremely precise cases encountered in your daily life.\n \nWarning: this is neither a questionnaire nor a poll. It is an aid to "self-description", being an exercise that starts with your concerns and attachments, and goes on to describe your means of subsistence.',O={id:Object(b.a)(),email:void 0,propositions:[]},j=function(e){var t=e.translate,n=e.lang,i=e.eventListener,s={develop:[t("to-develop-question-1"),t("to-develop-question-2"),t("to-develop-question-3"),t("to-develop-question-4"),t("to-develop-question-5")],stop:[t("to-stop-question-1"),t("to-stop-question-2"),t("to-stop-question-3"),t("to-stop-question-4")]},l=y("mayday/questionnaireData",O),u=Object(o.useState)(l),v=Object(r.a)(u,2),E=v[0],j=v[1],x=+y("mayday/questionnaireStage",0),N=+y("questionnaireIndex",0);(!E||N>E.propositions.length-1)&&(N=0);var C=Object(o.useState)(x),S=Object(r.a)(C,2),z=S[0],D=S[1],T=Object(o.useState)(N),I=Object(r.a)(T,2),L=I[0],A=I[1],W=Object(o.useState)(!1),_=Object(r.a)(W,2),P=_[0],Q=_[1],J=Object(o.useState)(void 0),B=Object(r.a)(J,2),R=B[0],K=B[1],M=Object(o.useState)(!1),U=Object(r.a)(M,2),H=U[0],V=U[1];Object(o.useEffect)((function(){localStorage.setItem("mayday/questionnaireData",JSON.stringify(E))})),Object(o.useEffect)((function(){localStorage.setItem("mayday/questionnaireStage",z),0===z&&(j(function(e){return Object(m.a)({},e,{propositions:e.propositions.filter((function(e){return void 0!==Object.keys(e).find((function(t){return 0===t.indexOf("question")&&e[t].length>0}))}))})}(E)),Q(!1)),Q(!1),setTimeout((function(){var e=document.querySelector("textarea.active, input");e&&e.focus()}))}),[z]),Object(o.useEffect)((function(){localStorage.setItem("mayday/questionnaireIndex",L)}),[L]),Object(o.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[P]),Object(o.useEffect)((function(){if(H){var e=document.querySelector(".share-container");e&&setTimeout((function(){var t=e.offsetTop;console.log("go",t),window.scrollTo({top:t,behavior:"smooth"})}),700)}}),[H]);var Y=function(e,t){"questionnaireClick"===e&&D(0)};Object(o.useEffect)((function(){i.addSubscriber(Y)}),[i]);var F,$=z>0&&L<E.propositions.length&&E.propositions[L],G=$&&"develop"===$.type?"develop":"stop",X=s[G],Z=X.length;z>0&&-1!==z&&(F=E.propositions[L]?E.propositions[L]["question".concat(z)]:"");var ee=E.email&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(E.email),te=function(e){var t=function(e,t){var n=Object(b.a)(),o=t[e].length;return Object(m.a)({type:e,id:n},Array.from(Array(o).keys()).reduce((function(e,t){return Object(m.a)({},e,Object(c.a)({},"question".concat(t+1),""))}),{}))}(e,s),n=Object(m.a)({},E,{propositions:[].concat(Object(p.a)(E.propositions),[t])});A(E.propositions.length),j(n),D(1)},ne=function(){return te("stop")},oe=function(){return te("develop")},ae=function(){var e=z+1;e>Z&&(e=-1),D(e)},ie=function(){D(z-1)},se=function(e){!function(e){var t=Object(m.a)({},E,{propositions:E.propositions.map((function(t,n){return n===L?Object(m.a)({},t,Object(c.a)({},"question".concat(z),e)):t}))});j(t)}(e.target.value)},re=function(e){j(Object(m.a)({},E,{email:e.target.value}))},le=function(e){j(Object(m.a)({},E,{givenName:e.target.value}))},ue=function(e){j(Object(m.a)({},E,{familyName:e.target.value}))},ce=function(e){j(Object(m.a)({},E,{workshopContact:void 0===E.workshopContact||!E.workshopContact}))},pe=function(e){j(Object(m.a)({},E,{areaOfExpertise:e.target.value}))},me=function(e){e&&e.preventDefault();var t=Object(m.a)({},E,{lang:n});K("sending"),function(e){return g()({method:"POST",url:"".concat(q,"answer"),data:{data:e}})}(t).then((function(){K("success"),setTimeout((function(){K(void 0)}),4e3)})).catch((function(e){console.error(e),K("error"),setTimeout((function(){K(void 0)}),4e3)}))},de=function(){Q(!P)},ve=function(){return a.a.createElement("div",{className:"important-section"},a.a.createElement("h3",null,t("submit-form-explanation")),a.a.createElement("p",null,t("submit-form-anonymously-explanation")),a.a.createElement("p",null,t("submit-form-with-contact-explanation")),a.a.createElement("div",null,a.a.createElement("input",{type:"input",onChange:le,value:E.givenName||"",placeholder:t("given-name-prompt")})),a.a.createElement("div",null,a.a.createElement("input",{type:"input",onChange:ue,value:E.familyName||"",placeholder:t("family-name-prompt")})),a.a.createElement("div",null,a.a.createElement("input",{type:"input",onChange:pe,value:E.areaOfExpertise||"",placeholder:t("area-of-expertise-prompt")})),a.a.createElement("div",null,a.a.createElement("input",{type:"email",onChange:re,value:E.email||"",placeholder:t("email-prompt")})),a.a.createElement("div",{onClick:ce,className:"radio-container ".concat(ee?"":"disabled")},a.a.createElement("input",{onChange:ce,checked:E.workshopContact||!1,type:"radio"}),a.a.createElement("label",null,t("workshop-contact-prompt"))),a.a.createElement("ul",{className:"buttons-row"},a.a.createElement("li",{onClick:de},a.a.createElement("button",null,t("review-your-propositions"))),a.a.createElement("li",null,a.a.createElement("button",{disabled:!1,className:"important-button",onClick:me,type:"submit"},t("submit-form")))))},he=function(){return a.a.createElement("div",{className:"propositions-container"},a.a.createElement("h2",{className:"propositions-title"},a.a.createElement("span",null,t("summary-title")," (",E.propositions.length,")"),a.a.createElement("button",{onClick:de},t("close"))),E.propositions.reverse().map((function(e,n){var o="develop"===e.type?[t("to-develop-question-1"),t("to-develop-question-2"),t("to-develop-question-3"),t("to-develop-question-4"),t("to-develop-question-5")]:[t("to-stop-question-1"),t("to-stop-question-2"),t("to-stop-question-3"),t("to-stop-question-4")];return a.a.createElement("div",{key:n,className:"proposition"},a.a.createElement("h3",null,a.a.createElement("span",{className:"proposition-title"},t("Proposition")," ",E.propositions.length-n," (",t("stop"===e.type?"add-activity-to-stop":"add-activity-to-develop"),")"),a.a.createElement("span",{className:"small-buttons-container"},a.a.createElement("button",{onClick:function(){A(n),D(1)}},t("edit")),a.a.createElement("button",{onClick:function(){var e=Object(m.a)({},E,{propositions:E.propositions.filter((function(e,t){return t!==n}))});j(e),0===e.propositions.length&&Q(!1)}},t("delete")))),o.map((function(o,i){return a.a.createElement("div",{className:"question",key:i},a.a.createElement("h4",null,o),a.a.createElement("blockquote",null,e["question".concat(i+1)]),a.a.createElement("button",{onClick:function(){A(n),D(i+1)}},t("edit")))})))})))};return a.a.createElement("div",null,a.a.createElement(d.a,null,a.a.createElement("title",null,t("website-title")," | ",t("questionnaire"))),a.a.createElement("div",null,0===z?a.a.createElement("div",{className:"question-container ".concat(P?"normalized":"")},!P&&a.a.createElement(h.a,{source:"fr"===n?w:k}),a.a.createElement("ul",{className:"big-select ".concat(P?"hidden":"")},a.a.createElement("li",null,a.a.createElement("button",{className:"stop",onClick:ne},t("add-activity-to-stop"))),a.a.createElement("li",null,a.a.createElement("button",{className:"develop",onClick:oe},t("add-activity-to-develop")))),a.a.createElement("ul",{className:"buttons-row"},E.propositions.length&&!P?a.a.createElement("li",null,a.a.createElement("button",{className:P?"active":"",onClick:de},t(P?"hide-existing-propositions":"review-your-propositions")," ",!P&&"(".concat(E.propositions.length,")"))):null,E.propositions.length&&!P?a.a.createElement("li",null,a.a.createElement("button",{className:"important-button",onClick:function(){A(void 0),D(null),Q(!1)}},t("go-to-submit"))):null)):null,z>0?a.a.createElement("ul",{className:"question-container"},X.map((function(e,n){if(n===z-1)return a.a.createElement("li",{key:e,className:"active"},a.a.createElement("h2",null,e),a.a.createElement(f.a,{className:"active",value:F,onChange:se,placeholder:t("write-here")}),F.length<150&&a.a.createElement("div",{className:"text-length-indicator"},a.a.createElement("i",null,t("char-limit-indicator"))),a.a.createElement("ul",{className:"buttons-row reverse"},z<Z?a.a.createElement("li",null,a.a.createElement("button",{disabled:F.length<150,className:"important-button ".concat(G),onClick:ae},t("next-question"))):a.a.createElement("li",null,a.a.createElement("button",{className:"important-button ".concat(G),disabled:F.length<150,onClick:ae},t("validate-proposition"))),z>1?a.a.createElement("li",null,a.a.createElement("button",{className:G,onClick:ie},t("previous-question"))):null));var o=$["question".concat(n+1)];if(o.trim().length){return a.a.createElement("li",{onClick:function(){D(n+1)},key:e},a.a.createElement("h2",null,e),a.a.createElement(f.a,{value:o}))}return null}))):null,-1===z?a.a.createElement("div",null,P?he():a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,t("thank-you")),a.a.createElement("ul",{className:"big-select ".concat(P?"hidden":"")},a.a.createElement("li",null,a.a.createElement("button",{className:"stop",onClick:ne},t("add-activity-to-stop-bis"))),a.a.createElement("li",null,a.a.createElement("button",{className:"develop",onClick:oe},t("add-activity-to-develop-bis")))),a.a.createElement("ul",{className:"buttons-row"},a.a.createElement("li",null,a.a.createElement("button",{className:"important-button",onClick:function(){V(!H)},type:"submit"},t("go-to-submit")))),a.a.createElement("div",{className:"share-container ".concat(H?"visible":"hidden")},ve()))):null,null===z?a.a.createElement("form",{className:"question-container ".concat(P?"normalized":""),onSubmit:me},P?null:a.a.createElement("div",null,ve())):null,R?a.a.createElement("div",{className:"status-container"},a.a.createElement("div",{className:"status-content"},a.a.createElement("i",null,t(R)))):null,(0===z||null===z)&&E.propositions.length&&P?he():null))},x=function(e){var t=e.translate,n=e.lang;return a.a.createElement("div",null,a.a.createElement(d.a,null,a.a.createElement("title",null,t("website-title"))),a.a.createElement("div",{className:"question-container"},a.a.createElement("h1",null,t("website-title")),a.a.createElement(h.a,{source:"fr"===n?w:k}),a.a.createElement(l.b,{className:"important-link",to:"questionnaire"},t("questionnaire-prompt")),a.a.createElement("footer",null,a.a.createElement("div",null,a.a.createElement(l.b,{to:"/mentions"},a.a.createElement("span",null,t("legal-mentions")))))))},N=function(e){var t=e.translate,n=e.lang;return a.a.createElement("div",null,a.a.createElement(d.a,null,a.a.createElement("title",null,t("website-title")," | ",t("legal-mentions"))),a.a.createElement("h1",null,t("legal-mentions")),a.a.createElement(h.a,{source:"fr"===n?"Legal mentions fr":"Legal mentions english"}))},C={fr:n(56),en:n(57)},S=function(){var e=this;this.subscribers=[],this.addSubscriber=function(t){e.subscribers.push(t)},this.onEvent=function(e,t){this.subscribers.forEach((function(n){n(e,t)}))}};function z(){var e="fr",t=localStorage.getItem("mayday/lang"),n=navigator.language||navigator.userLanguage;t?e=t:n&&(e="fr"===n?"fr":"en");var i=Object(o.useState)(e),s=Object(r.a)(i,2),c=s[0],p=s[1];Object(o.useEffect)((function(){localStorage.setItem("mayday/lang",c)}),[c]);var m=C[c],d=function(e){return m[e]||e},v=Object(o.useState)(new S),h=Object(r.a)(v,1)[0];return a.a.createElement(l.a,null,a.a.createElement("div",null,a.a.createElement("nav",null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/",className:"home-link"},a.a.createElement("span",null,d("website-title")))),a.a.createElement("li",null,a.a.createElement(l.c,{onClick:function(){h.onEvent("questionnaireClick")},to:"/questionnaire"},a.a.createElement("span",null,d("questionnaire")))),a.a.createElement("li",null,a.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){p("fr"===c?"en":"fr")}},"fr"===c?a.a.createElement("b",null,"fr"):"fr","/","fr"===c?"en":a.a.createElement("b",null,"en"))))),a.a.createElement("main",null,a.a.createElement(u.c,null,a.a.createElement(u.a,{exact:!0,path:"/"},a.a.createElement(x,{translate:d,lang:c})),a.a.createElement(u.a,{path:"/questionnaire"},a.a.createElement(j,{translate:d,lang:c,eventListener:h})),a.a.createElement(u.a,{path:"/mentions"},a.a.createElement(N,{translate:d,lang:c}))))))}s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(z,null)),document.getElementById("root"))},56:function(e){e.exports=JSON.parse('{"website-title":"o\xf9 atterrir ?","questionnaire":"questionnaire","legal-mentions":"mentions l\xe9gales","questionnaire-prompt":"commencer l\'exercice d\'auto-description","sending":"Envoi de vos propositions","char-limit-indicator":"Votre texte doit faire au moins 150 caract\xe8res","error":"Oups ! les propositions ne sont pas parvenues \xe0 bon port ... \xeates vous bien connect\xe9 \xe0 internet ?","success":"Succ\xe8s ! vos propositions sont enregistr\xe9es, merci et \xe0 bient\xf4t !","add-activity-to-stop":"Que faut-il ne pas reprendre ?","add-activity-to-develop":"Que faut-il d\xe9velopper ?","add-activity-to-stop-bis":"Ajouter une nouvelle proposition de r\xe9ponse \xe0 la question \\"Que faut-il ne pas reprendre ?\\"","add-activity-to-develop-bis":"Ajouter une nouvelle proposition de r\xe9ponse \xe0 la question \\"Que faut-il d\xe9velopper ?\\"","go-to-submit":"finir l\'exp\xe9rience et partager mes r\xe9sultats","previous-question":"question pr\xe9c\xe9dente","next-question":"question suivante","validate proposition":"valider la proposition","go-back-to-summary":"revenir \xe0 la vue d\'ensemble","submit-form-title":"partager mes propositions","submit-form-explanation":"Partager mes propositions avec l\'\xe9quipe de \'o\xf9 atterrir\'","write-here":"\xe9crire ici","email-prompt":"email (optionnel)","workshop-contact-prompt":"Je veux \xeatre recontact\xe9 si un atelier touchant \xe0 mes propositions est organis\xe9","family-name-prompt":"nom de famille (optionnel)","given-name-prompt":"pr\xe9nom (optionnel)","area-of-expertise-prompt":"aire d\'expertise (optionnel)","add-proposition":"ajouter une proposition","thank-you":"Merci !","add-another-proposition":"ajouter une autre proposition","reset-form":"r\xe9initialiser le questionnaire","summary-title":"Mes propositions","validate-proposition":"valider la proposition","submit":"envoyer mes propositions !","edit":"\xe9diter","delete":"supprimer","close":"fermer","review-your-propositions":"relire mes propositions","hide-existing-propositions":"retour","submit-form":"envoyer mes propositions","submit-form-with-contact":"envoyer mes propositions et entrer en contact","submit-form-with-contact-explanation":"Si vous nous laissez un email, Bruno Latour et ses coll\xe8gues vous recontacteront bient\xf4t pour vous proposer de participer \xe0 des ateliers-rencontres en ligne en relation avec vos propositions.","submit-form-anonymously":"envoyer mes propositions anonymement","submit-form-anonymously-explanation":"Nous ajouterons votre r\xe9ponse \xe0 notre base de donn\xe9es, sur laquelle conduirons de multiples analyses textuelles dont nous partagerons publiquement les r\xe9sultats.","to-stop-question-1":"Quelle activit\xe9, maintenant suspendue, vous souhaiteriez ne pas voir reprendre ? ","to-stop-question-2":"D\xe9crivez pourquoi cette activit\xe9 vous appara\xeet nuisible / superflue / dangereuse / incoh\xe9rente ?","to-stop-question-3":"D\xe9crivez en quoi sa disparition / mise en veilleuse / substitution rendrait d\u2019autres activit\xe9s que vous favorisez plus facile / plus coh\xe9rente ?","to-stop-question-4":"Quelles mesures pr\xe9conisez-vous pour que les ouvriers / employ\xe9s / agents / entrepreneurs qui ne pourront plus continuer dans le activit\xe9 que vous supprimez se voient faciliter la transition vers d\u2019autres activit\xe9s ?","to-develop-question-1":"Quelle activit\xe9, maintenant suspendue, vous souhaiteriez voir se d\xe9velopper/ reprendre ou \xeatre invent\xe9e en remplacement ?","to-develop-question-2":"a) D\xe9crivez pourquoi cette activit\xe9 vous para\xeet positive ","to-develop-question-3":"b) D\xe9crivez comment cette activit\xe9 rend plus faciles / harmonieuses / coh\xe9rentes d\u2019autres activit\xe9s que vous favorisez","to-develop-question-4":"c) D\xe9crivez comment elle permet de lutter contre les activit\xe9s que vous jugez probl\xe9matiques ?","to-develop-question-5":"Quelles mesures pr\xe9conisez-vous pour aider les ouvriers / employ\xe9s / agents / entrepreneurs \xe0 acqu\xe9rir les capacit\xe9s / moyens / revenus / instruments permettant la reprise / le d\xe9veloppement / la cr\xe9ation de cette activit\xe9 ?"}')},57:function(e){e.exports=JSON.parse('{"website-title":"where should we land?","questionnaire":"questionnaire","legal-mentions":"legal mentions","questionnaire-prompt":"start the auto-description exercize","sending":"Sending your propositions","error":"Oops ! the propositions could not be sent... can you check if you have an internet connection?","success":"Success ! your propositions are recorded, thank you and see you soon !","add-activity-to-stop":"What should we not resume ?","add-activity-to-develop":"What should we develop ?","add-activity-to-stop-bis":"Add a new answer to the question \\"What should we not resume ?\\"","add-activity-to-develop-bis":"Add a new answer to the question \\"What should we develop ?\\"","char-limit-indicator":"Your text must be at least 150 characters long","go-to-submit":"finish the experience and share my propositions","previous-question":"previous question","next-question":"next question","validate proposition":"validate proposition","go-back-to-summary":"go back to overview","submit-form-title":"share my propositions with the \'where to land\' team","submit-form-explanation":"Share my propositions with the \'where to land\' team","write-here":"write here","email-prompt":"enter your email here","workshop-contact-prompt":"I want to be recontacted if a workshop relative to my propositions is organized","family-name-prompt":"family name","given-name-prompt":"given name","area-of-expertise-prompt":"area of expertise","add-proposition":"add a proposition","add-another-proposition":"add another proposition","reset-form":"reset form","thank-you":"Thank you !","summary-title":"Your propositions","submit":"send my propositions!","validate-proposition":"validate proposition","review-your-propositions":"review my propositions","hide-existing-propositions":"return","submit-form-with-contact":"send my propositions and get in touch","submit-form-with-contact-explanation":"If you give us an email, Bruno Latour and his colleagues will contact you to propose you to participate to web workshops in relation to your propositions.","submit-form-anonymously":"send my propositions anonymously","submit-form-anonymously-explanation":"We will add your response to our database and perform multiple textual analysis inquiries that we will share publicly.","submit-form":"send my propositions","to-stop-question-1":"Can you name a suspended activity that you would like to see not coming back? ","to-stop-question-2":"Describe why this activity seems to you to be noxious/superfluous/dangerous or incoherent.","to-stop-question-3":"Describe how the disappearance/putting on hold/substitution of this activity might render easier/more coherent other activities that you prefer.","to-stop-question-4":"What kinds of measures do you advocate so that workers/employees/agents/entrepreneurs, those who can no longer continue in the activities that you have eliminated, are able to facilitate the transition to other activities?","to-develop-question-1":"Can you name an activity, now suspended, that you hope might develop/begin again, or even that might be created from scratch?","to-develop-question-2":"Describe how this activity appears to be positive?","to-develop-question-3":"Describe how it can fight against those that you judge to be inappropriate.","to-develop-question-4":"Describe how it makes other activities that you prefer easier/more harmonious/coherent","to-develop-question-5":"What kinds of measures do you advocate to help workers/employees/agents/ entrepreneurs to acquire the capacities/means/finances/instruments that would allow for the restarting/development/creation of this activity ?"}')},60:function(e,t,n){e.exports=n(165)},65:function(e,t,n){}},[[60,1,2]]]);
//# sourceMappingURL=main.d275511d.chunk.js.map